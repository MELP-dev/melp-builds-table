import{Box as e,Typography as t,Link as l,Divider as n,FormControl as r,FormGroup as o,FormControlLabel as a,Checkbox as i,CircularProgress as c,InputBase as s,IconButton as u,Icon as d,Button as m,ToggleButton as g,ToggleButtonGroup as p,Switch as v,Chip as h,Popover as f,TableCell as b,TableRow as y,Tooltip as E,SvgIcon as C,MenuItem as w,Popper as x,Grow as k,Paper as S,ClickAwayListener as F,MenuList as I,TextField as O,ListItem as R,Grid as P,List as L,Breadcrumbs as j,TableFooter as A,Table as T,TableHead as D,TableBody as z,Fade as N}from"@mui/material";import M,{useRef as W,useCallback as $,useEffect as B,createContext as V,useMemo as H,useContext as G,useState as Y,forwardRef as q,useLayoutEffect as X}from"react";import{TabUnselected as J,Search as Q,HourglassEmpty as K,SortByAlpha as Z,ChevronLeft as _,ChevronRight as U,ArrowDropDown as ee,ArrowDropUp as te,Clear as le,ExpandMore as ne,Close as re,Menu as oe}from"@mui/icons-material";import ae from"@mui/styles/makeStyles";import ie from"moment";import"moment/min/locales";import{useTable as ce,useFilters as se,useSortBy as ue,usePagination as de,useRowSelect as me}from"react-table";import ge from"@mui/material/styles/createPalette";import{darken as pe,lighten as ve}from"@mui/material/styles";function he(){return he=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n])}return e},he.apply(this,arguments)}function fe(e,t){if(null==e)return{};var l,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)t.indexOf(l=o[n])>=0||(r[l]=e[l]);return r}function be(e=500){const t=W(null);return $((l,...n)=>{t.current&&clearTimeout(t.current),t.current=setTimeout(l,e,...n)},[e])}function ye(){const e=W(!1);return B(()=>()=>{e.current=!0},[]),e}const Ee=V({});function Ce({filter:e}){return H(()=>"string"==typeof e?{type:e}:e,[e])}const we=(e,t,l,n,r,o,a)=>{const i=Date.now();r.current=i,n(!0),e({search:t}).then(e=>{r.current!==i||o.current||(n(!1),Array.isArray(e)&&l([...null!=a?a:[],...null!=e?e:[]]))})};function xe(e,t){const{asyncGetMethods:l,localFiltering:n}=G(Ee),{preFilteredRows:r,id:o}=e,a=ye(),[i,c]=Y(),[s,u]=Y(!n&&null!=(null==t?void 0:t.asyncGet)&&"function"==typeof(null==l?void 0:l[t.asyncGet])),d=W(null),m=be(500),g=$(e=>{var i,s,g,p,v,h;if(n&&(null!=(i=null==t||null==(s=t.items)?void 0:s.length)?i:0)<1){const t=(v=r,h=o,v.map(e=>e.values[h]).filter((e,t,l)=>l.indexOf(e)===t)).filter(t=>null==e||""===e||-1!==(t+"").toLowerCase().indexOf(e.toLowerCase())).map(e=>({value:e,label:e}));c(t)}else n&&(null!=(g=null==t||null==(p=t.items)?void 0:p.length)?g:0)>0?c(null==t?void 0:t.items):null!=(null==t?void 0:t.asyncGet)&&"function"==typeof(null==l?void 0:l[t.asyncGet])&&m(we,null==l?void 0:l[t.asyncGet],e,c,u,d,a,t.items)},[l,null==t?void 0:t.asyncGet,null==t?void 0:t.items,o,u,n,r,m,a,d]);return H(()=>({items:i,getItems:g,loading:s}),[i,g,s])}const ke=e=>{const[t,l]=Y(e),n=$(e=>{l(t=>t?he({},t,{[e.key]:e.value}):{[e.key]:e.value})},[]);return H(()=>[t,{setGlobalFilters:n}],[t,n])};function Se(){const[e,t]=Y(void 0);return{clearFiltersEvent:e,clearFilters:$(e=>t(null!=e?e:[]),[])}}var Fe=ae(()=>({emptyAnchor:{cursor:"pointer",userSelect:"none"}}));const Ie=[];function Oe({column:s,value:u=Ie,setValue:d,doFiltering:m}){var g,p,v,h;const{mpColumn:f}=s,{translations:b}=G(Ee),y=Fe(),E=Ce(f),{loading:C,items:w,getItems:x}=xe(s,E),k=$(e=>{e.target.checked?null!=u&&u.includes(e.target.name)||d([...null!=u?u:[],e.target.name]):d(null==u?void 0:u.filter(t=>t!==e.target.name))},[d,u]),S=$(e=>{e.preventDefault(),m(null)},[m]);return B(()=>{x()},[x]),M.createElement(e,{display:"flex",flexDirection:"column"},M.createElement(e,{paddingLeft:2,display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},M.createElement(t,{variant:"subtitle2"},null!=(g=null==E?void 0:E.label)?g:""),M.createElement(e,{paddingX:2,paddingY:1.5},M.createElement(l,{color:"textSecondary",onClick:S,className:y.emptyAnchor},null!=(p=null==b?void 0:b.clear)?p:"Clear"))),M.createElement(n,null),!C&&(null!=(v=null==w?void 0:w.length)?v:0)>0&&M.createElement(e,{paddingX:2,paddingY:1,maxHeight:300,overflow:"auto"},M.createElement(r,{component:"fieldset",color:"primary"},M.createElement(o,null,null==w?void 0:w.map((e,t)=>{var l;return M.createElement(a,{key:t,onChange:k,name:e.value+"",control:M.createElement(i,{color:"primary",checked:null!=(l=null==u?void 0:u.includes(e.value+""))&&l}),label:e.label})})))),C&&M.createElement(e,{padding:2,display:"flex",justifyContent:"center",alignItems:"center",minHeight:100},M.createElement(c,null)),!C&&(null!=(h=null==w?void 0:w.length)?h:0)<1&&M.createElement(e,{padding:2,display:"flex",justifyContent:"center",alignItems:"center",minHeight:100},M.createElement(J,{fontSize:"large",color:"disabled"})))}var Re,Pe=ae(()=>({naked:{width:"100%"},emptyAnchor:{cursor:"pointer",userSelect:"none"}}));function Le({value:r,setValue:o,doFiltering:a,column:{mpColumn:i}}){var c,u,d;const m=Pe(),g=Ce(i),{translations:p}=G(Ee),v=$(e=>{o(e.target.value)},[o]),h=$(e=>{e.preventDefault(),a(null)},[a]);return M.createElement(e,{display:"flex",flexDirection:"column"},M.createElement(e,{paddingLeft:2,display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},M.createElement(t,{variant:"subtitle2"},null!=(c=null==g?void 0:g.label)?c:""),M.createElement(e,{paddingX:2,paddingY:1.5},M.createElement(l,{color:"textSecondary",onClick:h,className:m.emptyAnchor},null!=(u=null==p?void 0:p.clear)?u:"Clear"))),M.createElement(n,null),M.createElement(e,{paddingY:1,paddingX:2},M.createElement(s,{value:null!=r?r:"",onChange:v,placeholder:null!=(d=null==p?void 0:p.search)?d:"Search",autoFocus:!0,className:m.naked,endAdornment:null!=(null==g?void 0:g.unitLabel)&&M.createElement(t,{color:"textSecondary"},null==g?void 0:g.unitLabel)})))}!function(e){e.text="text",e.select="select",e.searchSelect="searchSelect",e.numberRange="numberRange"}(Re||(Re={}));var je=ae(e=>({naked:{width:"100%"},emptyAnchor:{cursor:"pointer",userSelect:"none"},searchIcon:{marginRight:e.spacing(1)}}));const Ae=[];function Te({column:u,value:d=Ae,setValue:m,doFiltering:g}){var p,v,h,f,b;const{mpColumn:y}=u,{translations:E}=G(Ee),[C,w]=Y(),x=je(),k=Ce(y),{loading:S,items:F,getItems:I}=xe(u,k),O=$(e=>{e.target.checked?null!=d&&d.includes(e.target.name)||m([...null!=d?d:[],e.target.name]):m(null==d?void 0:d.filter(t=>t!==e.target.name))},[m,d]),R=$(e=>{w(e.target.value)},[w]),P=$(e=>{e.preventDefault(),g(null)},[g]);return B(()=>{I(C)},[I,C]),M.createElement(e,{display:"flex",flexDirection:"column"},M.createElement(e,{paddingLeft:2,display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},M.createElement(t,{variant:"subtitle2"},null!=(p=null==k?void 0:k.label)?p:""),M.createElement(e,{paddingX:2,paddingY:1.5},M.createElement(l,{color:"textSecondary",onClick:P,className:x.emptyAnchor},null!=(v=null==E?void 0:E.clear)?v:"Clear"))),M.createElement(n,null),M.createElement(e,{paddingY:1,paddingX:2},M.createElement(s,{startAdornment:M.createElement(Q,{className:x.searchIcon,color:"action"}),value:null!=C?C:"",onChange:R,placeholder:null!=(h=null==E?void 0:E.search)?h:"Search",autoFocus:!0,className:x.naked})),M.createElement(n,null),!S&&(null!=(f=null==F?void 0:F.length)?f:0)>0&&M.createElement(e,{paddingX:2,paddingY:1,maxHeight:300,overflow:"auto"},M.createElement(r,{component:"fieldset",color:"primary"},M.createElement(o,null,null==F?void 0:F.map((e,t)=>{var l;return M.createElement(a,{key:t,onChange:O,name:e.value+"",control:M.createElement(i,{color:"primary",checked:null!=(l=null==d?void 0:d.includes(e.value+""))&&l}),label:e.label})})))),S&&M.createElement(e,{padding:2,display:"flex",justifyContent:"center",alignItems:"center",minHeight:100},M.createElement(c,null)),!S&&(null!=(b=null==F?void 0:F.length)?b:0)<1&&M.createElement(e,{padding:2,display:"flex",justifyContent:"center",alignItems:"center",minHeight:100},M.createElement(J,{fontSize:"large",color:"disabled"})))}var De=ae(()=>({naked:{width:"100%"},emptyAnchor:{cursor:"pointer",userSelect:"none"}}));const ze=["onChange","inputRef"],Ne=q((e,t)=>{let{onChange:l,inputRef:n}=e,r=fe(e,ze);const o=$(e=>{let t=e.target.value;t=t.replace(/-/g,(e,t)=>t>0?"":e),t=t.replace(/[.,]/g,(e,t,l)=>{var n,r;return l.indexOf(null!=(n=null==(r=l.match(/[.,]/g))?void 0:r[0])?n:".")!==t||0===t?"":e}),t=t.replace(/[^\d.,-]/g,""),e.target.value=t,"function"==typeof l&&l(e)},[l]);return M.createElement("input",Object.assign({ref:null!=t?t:n},r,{onChange:o,inputMode:"decimal"}))});function Me({value:r,setValue:o,doFiltering:a,column:{mpColumn:i}}){var c,u,d,m,g,p;const v=De(),h=Ce(i),{translations:f}=G(Ee),b=$(e=>{const t=e.target.value;o(null!=t&&""!==t?e=>he({},null!=e?e:{},{min:t}):e=>null!=(null==e?void 0:e.max)&&""!==(null==e?void 0:e.max)?{max:null==e?void 0:e.max}:null)},[o]),y=$(e=>{const t=e.target.value;o(null!=t&&""!==t?e=>he({},null!=e?e:{},{max:t}):e=>null!=(null==e?void 0:e.min)&&""!==(null==e?void 0:e.min)?{min:null==e?void 0:e.min}:null)},[o]),E=$(e=>{e.preventDefault(),a(null)},[a]);return M.createElement(e,{display:"flex",flexDirection:"column"},M.createElement(e,{paddingLeft:2,display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},M.createElement(t,{variant:"subtitle2"},null!=(c=null==h?void 0:h.label)?c:""),M.createElement(e,{paddingX:2,paddingY:1.5},M.createElement(l,{color:"textSecondary",onClick:E,className:v.emptyAnchor},null!=(u=null==f?void 0:f.clear)?u:"Clear"))),M.createElement(n,null),M.createElement(e,{paddingY:1,paddingX:2},M.createElement(s,{value:null!=(d=null==r?void 0:r.min)?d:"",onChange:b,placeholder:null!=(m=null==f?void 0:f.from)?m:"From",autoFocus:!0,className:v.naked,inputComponent:Ne,endAdornment:null!=(null==h?void 0:h.unitLabel)&&M.createElement(t,{color:"textSecondary"},null==h?void 0:h.unitLabel)})),M.createElement(n,null),M.createElement(e,{paddingY:1,paddingX:2},M.createElement(s,{value:null!=(g=null==r?void 0:r.max)?g:"",onChange:y,placeholder:null!=(p=null==f?void 0:f.to)?p:"To",className:v.naked,inputComponent:Ne,endAdornment:null!=(null==h?void 0:h.unitLabel)&&M.createElement(t,{color:"textSecondary"},null==h?void 0:h.unitLabel)})))}const We=({value:e})=>{const t="string"==typeof e?parseInt(e,10):e;return void 0!==e?`${Math.round(100*t)}%`:null},$e=({value:e,locale:t,options:l})=>{var n;return null!=(n=null==e?void 0:e.toLocaleString(t,null!=l&&l.modifier?{style:"currency",currency:null==l?void 0:l.modifier}:void 0))?n:null},Be=({value:e,locale:t="en"})=>{ie.locale(t);const l=new Date(e);return ie(l).format("L")},Ve=({value:e,locale:t="en",options:l})=>{ie.locale(t);const n=new Date(e),r=ie(n);return`${Be({value:e,locale:t,options:l})} ${r.format("LT")}`};var He,Ge;!function(e){e.currency="currency",e.percent="percent",e.date="date",e.dateTime="dateTime",e.map="map"}(He||(He={})),function(e){e.statusPill="statusPill",e.toggle="toggle",e.switch="switch",e.button="button",e.input="input"}(Ge||(Ge={}));const Ye=({value:e,options:t})=>{var l,n;return null!=(l=null==t||null==(n=t.valueMap)?void 0:n[e])?l:e};function qe(e){return`__raw_${e}`}function Xe(e,t){var l;return null!=(l=e[qe(t)])?l:e[t]}const Je={[He.currency]:$e,[He.percent]:We,[He.date]:Be,[He.dateTime]:Ve,[He.map]:Ye},Qe=(e,t,l)=>!Array.isArray(l)||l.length<1?e:e.filter(e=>!!t.find(t=>l.includes(Xe(e.original,t)))),Ke={[Re.select]:Oe,[Re.searchSelect]:Te,[Re.text]:Le,[Re.numberRange]:Me},Ze={[Re.select]:Qe,[Re.searchSelect]:Qe,[Re.text]:"text",[Re.numberRange]:(e,t,l)=>null==l||"object"!=typeof l?e:e.filter(e=>!!t.find(t=>!(null!=(null==l?void 0:l.min)&&""!==(null==l?void 0:l.min)&&+Xe(e.original,t)<+(null==l?void 0:l.min)||null!=(null==l?void 0:l.max)&&""!==(null==l?void 0:l.max)&&+Xe(e.original,t)>+(null==l?void 0:l.max))))};function _e({column:t,value:l,setValue:n,overridables:r,doFiltering:o}){const a=H(()=>{var e,l,n,r;return"string"==typeof(null==t||null==(e=t.mpColumn)?void 0:e.filter)?null==t||null==(l=t.mpColumn)?void 0:l.filter:null==t||null==(n=t.mpColumn)||null==(r=n.filter)?void 0:r.type},[t]),i=H(()=>{var e,t;return a?null!=(e=null==r||null==(t=r.filters)?void 0:t[a])?e:Ke[a]:null},[a,r]);return i?M.createElement(e,null,M.createElement(i,{column:t,value:l,setValue:n,doFiltering:o})):null}function Ue(e){var t,l,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(l=Ue(e[t]))&&(n&&(n+=" "),n+=l);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function et(){for(var e,t,l=0,n="";l<arguments.length;)(e=arguments[l++])&&(t=Ue(e))&&(n&&(n+=" "),n+=t);return n}const tt=e=>{var t;const l=null==e||null==(t=e.mpColumn)?void 0:t.action;if(!l)throw new Error("Missing action property from column.");return l},lt=e=>{const{row:t,rowId:l,slug:n,value:r,methods:o}=e;if(!o)throw new Error("No row methods provided. Please provide them in order to use them.");const a=o[n],i={value:r,row:t,rowId:l};if(!a)throw new Error(`A method for action '${n}' does not exist. Either add it or remove this action.`);a(i)},nt=e=>{const{methods:t,selectedRowIds:l,selectedRows:n,slug:r}=e,o=t[r],a={selectedRows:n,selectedIds:l};if(!o)throw new Error(`A method for action '${r}' does not exist. Either add it or remove this action.`);o(a)};var rt=ae(()=>({small:{maxHeight:28}}));function ot(e){const t=rt(),{column:l,row:n}=e,{rowMethods:r,size:o}=G(Ee),a=H(()=>tt(l),[l]),{color:i,icon:c,label:s,variant:g}=a,p=$(e=>{e.stopPropagation(),lt({methods:r,slug:a.slug,row:n,rowId:n.id})},[n,a,r]);return c?M.createElement(u,{color:i,onClick:p,size:"large"},M.createElement(d,null,"icon")):M.createElement(m,{size:o,color:i,variant:g,onClick:p,classes:{sizeSmall:t.small}},s)}function at(e){const{column:t,row:l,value:n}=e,{rowMethods:r,size:o}=G(Ee),a=H(()=>tt(t),[t]),{items:i,defaultValue:c}=a,[s,u]=Y(null!=n?n:c),m=$((e,t)=>{e.stopPropagation(),lt({methods:r,slug:a.slug,value:t,row:l,rowId:l.id}),u(t)},[u,a,l,r]),v=H(()=>(i||[]).map(e=>{const{value:t,icon:l,label:n,color:r,textColor:a}=e,i=l?M.createElement(d,null,l):n,c="small"===o?24:void 0;return M.createElement(g,{key:t,size:o,value:t,"aria-label":"toggle-action",style:s===t?{color:a,backgroundColor:r,maxHeight:c}:{maxHeight:c}},i)}),[o,i,s]);return M.createElement(p,{value:s,exclusive:!0,onChange:m,"aria-label":"row-toggle"},v)}function it(l){const{column:n,row:r,value:o}=l,{rowMethods:a,size:i}=G(Ee),c=H(()=>tt(n),[n]),{iconLeft:s,iconRight:u,labelLeft:m,labelRight:g,color:p}=c,h=s?M.createElement(d,null,s):m,f=u?M.createElement(d,null,u):g,[b,y]=Y(o),E=$(e=>{e.stopPropagation();const t=e.target.checked;y(t),lt({methods:a,slug:c.slug,row:r,rowId:r.id,value:t})},[a,r,c]),C=$(e=>e.stopPropagation(),[]);return M.createElement(e,{display:"flex",alignItems:"center",justifyContent:"center",onClick:C},M.createElement(t,{component:"span"},h),M.createElement(v,{size:i,onChange:E,color:p,checked:b}),M.createElement(t,{component:"span"},f))}function ct({cell:e}){const t=e.column.mpColumn,l=H(()=>"string"==typeof(null==t?void 0:t.render)?{type:t.render}:null==t?void 0:t.render,[null==t?void 0:t.render]),n=H(()=>{var t,n,r;return null!=(t=null==l||null==(n=l.styleMap)?void 0:n[null!=(r=e.value)?r:""])?t:void 0},[l,e]),r=H(()=>{var t,n,r;return null!=(t=null==l||null==(n=l.valueMap)?void 0:n[null!=(r=e.value)?r:""])?t:e.value},[l,e]),o=H(()=>e.column.id,[e.column.id]),a=H(()=>e.row.index,[e.row.index]),i=H(()=>null==t?void 0:t.inputProps,[null==t?void 0:t.inputProps]);return{column:t,renderOptions:l,style:n,value:r,columnId:o,columnIndex:a,inputProps:i}}function st(t){const{style:l,value:n}=ct(t),{size:r}=G(Ee),o=H(()=>({backgroundColor:null!=l?l+"":void 0,color:null!=l?ge({primary:{main:l+""}}).getContrastText(l+""):void 0}),[l]);return M.createElement(e,{textAlign:"center"},M.createElement(h,{size:r,style:o,label:n}))}var ut=ae(()=>({root:{padding:0,maxHeight:29,width:"100%",fontSize:"inherit"},input:{height:"auto",maxHeight:29,padding:0,fontSize:"inherit"}}));const dt={[Ge.statusPill]:st,[Ge.button]:ot,[Ge.toggle]:at,[Ge.switch]:it,[Ge.input]:function(e){const t=ut(),l=be(),{value:n,inputProps:r,columnId:o,columnIndex:a}=ct(e),{onInputChange:i}=G(Ee),[c,u]=Y(n);B(()=>u(n),[n]);const d=$(e=>e.stopPropagation(),[]),m=$(e=>{const{value:t}=e.target;u(t),l(()=>null==i?void 0:i(e,a,o))},[o,a,l,i]);return M.createElement(s,Object.assign({onChange:m,value:c,classes:{root:t.root,input:t.input},onClick:d},r))}},mt=e=>()=>{var t;const{totalsData:l}=G(Ee);return null!=(t=null==l?void 0:l[e])?t:null},gt=e=>e,pt=(e,t)=>l=>{var n,r,o;const a={Header:null!=(n=l.label)?n:l.key,accessor:l.key,mpColumn:l,disableSortBy:t||!1===l.sort};if(null!=(null==l?void 0:l.filter)&&(null==l||null==(r=l.filter)||!r.remote)){var i,c;const t="string"==typeof l.filter?l.filter:l.filter.type;a.filter=null!=(i=null==e||null==(c=e.filterFunctions)?void 0:c[t])?i:Ze[t]}if(null!=(null==l?void 0:l.filter)&&!0===(null==l||null==(o=l.filter)?void 0:o.remote)&&(a.filter=gt),!1!==l.totals&&(a.Footer=mt(l.key)),null!=l.render){var s,u;const t="string"==typeof l.render?l.render:l.render.type;a.Cell=null!=(s=null==e||null==(u=e.renderers)?void 0:u[t])?s:dt[t]}return a};function vt(e,t,l){const[n,r]=Y([]),o=H(()=>{const n=t.filter(e=>e.format);return e.map(e=>n.reduce((t,n)=>{var r;const{key:o,format:a}=n;return t[qe(o)]=e[qe(o)],t[o]=Je[null!=(r=null==a?void 0:a.type)?r:a]({value:e[o],locale:l,options:"string"==typeof a?void 0:a}),t},he({},e)))},[e,t,l]);return B(()=>r(o),[o]),[n,$((e,t,l)=>{const{value:n}=e.target;r(e=>{const r=[...e];return r[t][l]=n,r})},[])]}var ht=ae(e=>{var t,l;return{wrapper:{display:"inline-flex",overflow:"hidden",alignItems:"center",userSelect:"none",whiteSpace:"pre",cursor:"pointer",position:"relative"},disabledSort:{color:null==e||null==(t=e.palette)||null==(l=t.text)?void 0:l.secondary,cursor:"default"},fixedWidth:{minWidth:e=>e.fixedColumnWidth,width:e=>e.fixedColumnWidth,maxWidth:e=>e.fixedColumnWidth},hoveredCellWithFilters:{background:"dark"===e.palette.mode?pe(e.palette.background.default,.1):ve(e.palette.primary.light,.9)}}});function ft({column:e,anchorEl:t,canSort:l,onClose:n,isSortedDesc:r,doSorting:o,overridables:a,clearFiltersEvent:i,value:c,setValue:s}){const u=$((t=c)=>{e.setFilter(t),s(t),n()},[c,e,n]);return B(()=>{null!=i&&(null==i||!i.length||null!=i&&i.includes(e.id))&&s(null)},[i]),M.createElement(f,{open:!!t,anchorEl:null!=t?t:void 0,onClose:n,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},M.createElement(a.headFilter,{canSort:l,isSortedDesc:r,overridables:a,doSorting:o,doFiltering:u,value:c,setValue:s,column:e}))}const bt=["onClick","title"];function yt({column:e,variant:t="simple",overridables:l,clearFiltersEvent:n,clearColumnFilters:r,classes:o}){var a,i;const c=e.getSortByToggleProps(),{onClick:s}=c,u=fe(c,bt),{isSortedDesc:d}=e,{width:m}=null==e?void 0:e.mpColumn,g=ht({fixedColumnWidth:m}),p=W(null),[v,h]=Y(!1),[f,y]=Y(e.filterValue),E=H(()=>{var t;return!(null==(t=e.mpColumn)||!t.filter)},[e]),C=H(()=>{var t,l;return!(null==(t=e.mpColumn)||!t.width||null==(l=e.mpColumn)||!l.fixedHeadWidth)},[e]),w=H(()=>"extended"===t&&E,[t,E]),[x,k]=Y(null),S=$(()=>k(null),[k]),F=$(t=>{w?k(p.current):e.canSort&&s(t)},[s,w,e]),I=$(t=>{t.stopPropagation(),e.setFilter(null),y(null)},[e]),O=$(()=>h(!0),[]),R=$(()=>h(!1),[]),P=null!=e.filterValue&&""!==e.filterValue&&(!Array.isArray(e.filterValue)||(null==(a=e.filterValue)?void 0:a.length)>0),L=H(()=>P&&v&&r,[P,v,r]);return M.createElement(M.Fragment,null,M.createElement(b,Object.assign({className:et({[g.fixedWidth]:C,[null!=(i=null==o?void 0:o.hoveredCellWithFilters)?i:g.hoveredCellWithFilters]:L}),onClick:F,onMouseEnter:O,onMouseLeave:R},u),M.createElement("div",{ref:p,className:et(g.wrapper,{[g.disabledSort]:!e.canSort&&!w})},e.render("Header")," ",M.createElement(l.headIndicator,{canSort:e.canSort,isExtended:w,filterSet:P,isSortedDesc:d,isHoveredCell:v,hasClear:r,clearFilters:I}))),w,M.createElement(ft,{anchorEl:x,overridables:l,onClose:S,canSort:e.canSort,isSortedDesc:d,doSorting:s,column:e,clearFiltersEvent:n,value:f,setValue:y}))}var Et=ae({parent:{borderRadius:"inherit"},wrapper:{maxWidth:"100%",overflowX:"auto",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},table:{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit",overflow:"hidden"},stickyTotalsWrapper:{position:"relative",overflow:"auto",zIndex:1},renderedCell:{paddingTop:2,paddingBottom:2}});function Ct({cellCount:t,loading:l,emptyChildren:n,loadingComponent:r}){const o=H(()=>l?r||M.createElement(K,{fontSize:"large",color:"disabled"}):null,[l,r]),a=H(()=>n?M.createElement(M.Fragment,null,o,!l&&n):M.createElement(e,{height:200,display:"flex",alignItems:"center",justifyContent:"center"},o,!l&&M.createElement(J,{fontSize:"large",color:"disabled"})),[l,o,n]);return M.createElement(y,null,M.createElement(b,{colSpan:t},a))}var wt=ae({headSelectCell:{maxWidth:42,paddingRight:0,"&:not(:last-child)":{borderRight:"none"}},cellCheckbox:{margin:-12}});const xt=["classes","selection","onChange"];function kt(t){let{classes:l,selection:n,onChange:r}=t,o=fe(t,xt);const a=wt(),c=$(e=>{e.stopPropagation(),null==r||r(e)},[r]),s=$(e=>e.stopPropagation(),[]);return"single"===n?M.createElement(b,null):M.createElement(b,{className:et(a.headSelectCell,null==l?void 0:l.headSelectCell),onClick:s},M.createElement(e,{display:"flex"},M.createElement(i,Object.assign({color:"primary"},o,{className:et(a.cellCheckbox,null==l?void 0:l.headSelectCellCheckbox),onChange:c}))))}function St({column:t,canSort:l,isSortedDesc:r,doSorting:o,doFiltering:a,value:i,setValue:c,overridables:s}){const u=$(e=>{e.preventDefault(),a()},[a]);return M.createElement("form",{onSubmit:u},M.createElement(e,{minWidth:150},M.createElement(_e,{column:t,value:i,setValue:c,doFiltering:a,overridables:s}),M.createElement(n,null),M.createElement(e,{display:"flex",justifyContent:"center",alignItems:"center"},l&&M.createElement(e,{paddingX:2,display:"flex",justifyContent:"center",alignItems:"center",style:{cursor:"pointer"},onClick:o},M.createElement(Z,{fontSize:"small",color:null==r?"action":"primary"})),M.createElement(e,{flexGrow:1}),M.createElement(m,{color:"primary",type:"submit"},"Filter"))))}var Ft=ae({wrapper:{display:"flex",width:"100%",position:"relative",minHeight:48,alignItems:"center",justifyContent:"flex-end"},spacer:{flexGrow:1}});function It({pageIndex:l,previousPage:n,itemCount:r,nextPage:o,pageCount:a,pageSize:i,loading:s,translations:d,selectedCount:m}){var g,p,v;const h=Ft(),f=H(()=>l>0,[l]),b=H(()=>null==a||l<a-1,[l,a]),y=H(()=>{var e,t;return[null!=r?`${r} ${null!=(e=null==d?void 0:d.total)?e:"total"}`:null,null!=m&&m>0?`${m} ${null!=(t=null==d?void 0:d.selected)?t:"selected"}`:null].filter(e=>null!=e).join(" • ")},[r,m,d]);return M.createElement(e,{paddingY:1,paddingX:2,className:et(h.wrapper)},M.createElement(t,{color:"textSecondary",variant:"body2"},y),s&&M.createElement(e,{paddingX:1,display:"flex",alignItems:"center",justifyContent:"center"},M.createElement(c,{size:"1.5em","data-qa":"TableProgress"})),M.createElement(e,{className:h.spacer}),M.createElement(e,{paddingX:1},M.createElement(t,{color:"textSecondary",variant:"body2"},l*i+1," - ",(l+1)*i,null!=a?` ${null!=(g=null==d?void 0:d.of)?g:"of"} ${a}`:"")),M.createElement(E,{title:null!=(p=null==d?void 0:d.previousPage)?p:"Previous"},M.createElement("div",null,M.createElement(u,{size:"small",onClick:n,disabled:!f},M.createElement(_,null)))),M.createElement(E,{title:null!=(v=null==d?void 0:d.nextPage)?v:"Next"},M.createElement("div",null,M.createElement(u,{size:"small",onClick:o,disabled:!b},M.createElement(U,null)))))}const Ot=e=>M.createElement(C,Object.assign({viewBox:"0 0 24 24"},e),M.createElement("svg",{viewBox:"0 0 24 24"},M.createElement("path",{fill:"currentColor",d:"M14,12V19.88C14.04,20.18 13.94,20.5 13.71,20.71C13.32,21.1 12.69,21.1 12.3,20.71L10.29,18.7C10.06,18.47 9.96,18.16 10,17.87V12H9.97L4.21,4.62C3.87,4.19 3.95,3.56 4.38,3.22C4.57,3.08 4.78,3 5,3V3H19V3C19.22,3 19.43,3.08 19.62,3.22C20.05,3.56 20.13,4.19 19.79,4.62L14.03,12H14Z"}))),Rt=e=>M.createElement(C,Object.assign({viewBox:"0 0 24 24"},e),M.createElement("svg",{viewBox:"0 0 24 24"},M.createElement("path",{fill:"currentColor",d:"M11 11L16.76 3.62A1 1 0 0 0 16.59 2.22A1 1 0 0 0 16 2H2A1 1 0 0 0 1.38 2.22A1 1 0 0 0 1.21 3.62L7 11V16.87A1 1 0 0 0 7.29 17.7L9.29 19.7A1 1 0 0 0 10.7 19.7A1 1 0 0 0 11 18.87V11M13 16L18 21L23 16Z"}))),Pt=e=>M.createElement(C,Object.assign({viewBox:"0 0 24 24"},e),M.createElement("svg",{viewBox:"0 0 24 24"},M.createElement("path",{d:"M11 11L16.76 3.62C16.9224 3.41153 16.9957 3.14726 16.9638 2.88493C16.932 2.6226 16.7976 2.38355 16.59 2.22C16.4221 2.08505 16.2152 2.00789 16 2H1.99999C1.77443 2.00131 1.55593 2.07884 1.37999 2.22C1.17243 2.38355 1.03804 2.6226 1.00618 2.88493C0.974328 3.14726 1.0476 3.41153 1.20999 3.62L6.99999 11V16.87C6.9819 17.0213 6.99862 17.1747 7.04888 17.3186C7.09914 17.4624 7.18161 17.5929 7.28999 17.7L9.28999 19.7C9.47736 19.8863 9.73081 19.9908 9.99499 19.9908C10.2592 19.9908 10.5126 19.8863 10.7 19.7C10.8102 19.5938 10.8945 19.4638 10.9465 19.3199C10.9985 19.176 11.0168 19.0221 11 18.87V11ZM13 21L18 16L23 21H13Z",fill:"currentColor"}))),Lt=e=>M.createElement(C,Object.assign({viewBox:"0 0 24 24"},e),M.createElement("svg",{viewBox:"0 0 24 24"},M.createElement("path",{fill:"currentColor",d:"M15,19.88C15.04,20.18 14.94,20.5 14.71,20.71C14.32,21.1 13.69,21.1 13.3,20.71L9.29,16.7C9.06,16.47 8.96,16.16 9,15.87V10.75L4.21,4.62C3.87,4.19 3.95,3.56 4.38,3.22C4.57,3.08 4.78,3 5,3V3H19V3C19.22,3 19.43,3.08 19.62,3.22C20.05,3.56 20.13,4.19 19.79,4.62L15,10.75V19.88M7.04,5L11,10.06V15.58L13,17.58V10.05L16.96,5H7.04Z"})));var jt=ae(e=>({iconWrapper:{display:"inline-flex",maxHeight:"1em",justifyContent:"center",maxWidth:18,width:18,minWidth:18,alignItems:"center"},clearIcon:{background:e.palette.primary.main,color:e.palette.primary.contrastText,width:19,height:19,borderRadius:"3px",position:"absolute",left:0}}));function At({canSort:t,isExtended:l,filterSet:n,isSortedDesc:r,isHoveredCell:o,hasClear:a,clearFilters:i}){const c=jt(),s=$(e=>i&&i(e),[i]);return t||l?M.createElement(e,{className:c.iconWrapper},!0===r?l&&n?M.createElement(Rt,{fontSize:"small",color:"primary"}):M.createElement(ee,{color:"primary"}):!1===r?l&&n?M.createElement(Pt,{fontSize:"small",color:"primary"}):M.createElement(te,{color:"primary"}):l&&!n?M.createElement(Lt,{fontSize:"small",color:"disabled"}):l&&n?M.createElement(M.Fragment,null,M.createElement(Ot,{fontSize:"small",color:"primary"}),a&&o&&M.createElement(le,{className:c.clearIcon,onClick:s})):M.createElement(ne,{fontSize:"small",color:"disabled"})):null}var Tt=ae(e=>({wrapper:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:e.spacing(2)}})),Dt=ae(e=>({wrapper:{transition:`${e.transitions.create(["max-width"],{duration:e.transitions.duration.complex})}`},iconSpacer:{marginRight:10},menuPaper:{padding:"10px 0",marginTop:4},menuItem:{paddingTop:14,paddingBottom:0,paddingRight:0,minWidth:150},overlay:{zIndex:1},itemDivider:{borderBottom:"rgba(0, 0, 0, 0.1) solid 1px",marginLeft:20,paddingRight:20,width:"100%",paddingBottom:14},noBorder:{borderBottom:0}}));function zt({selectedRowIds:t,selectedRows:l,actions:n,methods:r,translations:o}){var a;const i=Dt(),c=H(()=>l.length>0,[l]),s=H(()=>c?"100%":0,[c]),[u,d]=Y(!1),g=W(null);B(()=>{c||d(!1)},[c]);const p=$(()=>{d(e=>!e)},[d]),v=e=>{var t;null==(t=g.current)||t.contains(e.target)},h=e=>{"Tab"===e.key&&(e.preventDefault(),d(!1))},f=$(e=>{nt({selectedRowIds:t,selectedRows:l,slug:e,methods:r})},[t,l,r]),b=n.map((t,l)=>M.createElement(w,{classes:{root:i.menuItem},onClick:e=>{v(e),f(t.slug)},key:t.slug},M.createElement(e,{className:et(i.itemDivider,{[i.noBorder]:n.length===l+1})},t.label)));return M.createElement(e,{maxWidth:s,overflow:"hidden",className:i.wrapper},M.createElement(e,{width:"fit-content"},M.createElement(m,{ref:g,"aria-controls":u?"bulk-actions-list-grow":void 0,"aria-haspopup":"true",onClick:p,color:"primary",variant:"contained"},M.createElement(u?re:oe,{className:i.iconSpacer}),null!=(a=null==o?void 0:o.total)?a:"Actions"),M.createElement(x,{open:u,anchorEl:g.current,role:void 0,transition:!0,disablePortal:!0,className:i.overlay},({TransitionProps:e,placement:t})=>M.createElement(k,Object.assign({},e,{style:{transformOrigin:"bottom"===t?"left top":"left bottom"}}),M.createElement(S,{classes:{root:i.menuPaper}},M.createElement(F,{onClickAway:v},M.createElement(I,{autoFocusItem:u,id:"bulk-actions-list-grow",onKeyDown:h,disablePadding:!0},b)))))))}function Nt({onGlobalFilter:e,translations:t,globalFilters:l}){var n;const[r,o]=Y(null==l?void 0:l.search),a=be(200),i=$(t=>{o(t.target.value);const l={key:"search",value:t.target.value};a(()=>e(l))},[e,a]);return M.createElement(O,{onChange:i,label:null!=(n=null==t?void 0:t.search)?n:"Search",InputProps:{endAdornment:M.createElement(Q,null)},value:r,variant:"outlined"})}function Mt(e){return M.createElement(C,Object.assign({viewBox:"0 0 8 6",width:"8",height:"6"},e),M.createElement("svg",{width:"8",height:"6",viewBox:"0 0 8 6",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},M.createElement("path",{d:"M4.71074 5.28189C4.3194 5.67729 3.6806 5.67729 3.28926 5.28189L0.489829 2.45345C-0.135134 1.82201 0.31215 0.75 1.20057 0.75L6.79943 0.75C7.68785 0.75 8.13513 1.82201 7.51017 2.45345L4.71074 5.28189Z",fill:"black"})))}function Wt(e){return M.createElement(C,Object.assign({width:"24",height:"24",viewBox:"0 0 24 24"},e),M.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},M.createElement("path",{d:"M10.5 16.5L15.5 11.5L10.5 6.5",stroke:"black",strokeWidth:"2",strokeLinecap:"round"})))}const $t=(e,t)=>{if(e)return Object.entries(e).reduce((e,[l,n])=>{var r;if(Array.isArray(n)&&(e[l]=n,void 0!==(null==(r=t[l])?void 0:r.id))){const r=n.filter(e=>{var n;return e.id===(null==(n=t[l])?void 0:n.id)});if(r.length>0)return he({},e,$t(r[0],t))}return e},{})};function Bt({selectedKey:l,items:r,onMouseEnter:o,selectedId:a,translations:i,onClick:c}){var s,u;const d=H(()=>r.map(e=>{var n,r;return M.createElement(R,{button:!0,key:e.id,onMouseEnter:()=>{var t,n;return o(l,e.id,null!=(t=null==i||null==(n=i.breadcrumbs)?void 0:n[e.name])?t:e.name)},onClick:()=>c(l),selected:a===e.id},M.createElement(t,{color:"textSecondary",variant:"body2"},null!=(n=null==i||null==(r=i.breadcrumbs)?void 0:r[e.name])?n:e.name))}),[r,c,o,a,l,i]);return M.createElement(P,{component:e,minWidth:"200px",item:!0},M.createElement(e,{paddingX:2,paddingY:1},M.createElement(t,{color:"textPrimary",variant:"subtitle2"},null!=(s=null==i||null==(u=i.breadcrumbs)?void 0:u[l])?s:l)),M.createElement(n,null),M.createElement(L,null,d))}var Vt=ae(()=>({dropdownIconRoot:{width:13,height:8,marginLeft:7,cursor:"pointer"},seperator:{margin:"0 10px"},pointer:{cursor:"pointer"}}));function Ht({data:t,translations:n,onGlobalFilter:r,globalFilters:o}){var a;const i=Vt(),[c,s]=Y({}),[u,d]=Y({}),[m,g]=Y(null!=(a=null==o?void 0:o.breadcrumb)?a:{}),p=W(null),[v,h]=Y(null),b=H(()=>!!v,[v]),y=H(()=>b?"breadcrumb-popover":void 0,[b]),E=$(e=>{d(he({},$t(e,c)))},[c]),C=$((e,t,l)=>{const n=Object.keys(u),r=Object.entries(u),o=Object.keys(c),a=n.indexOf(e);if(0!==a){var i,d;let n={},u=(null==(i=m[e])?void 0:i.id)===t?[e]:[],p={};for(let e=0;e<a;e++){var g;const[t,l]=r[e];u=(null==(g=m[t])?void 0:g.id)===c[t].id?[...u,t]:[],-1!==o.indexOf(t)&&(p=he({},p,{[t]:{id:c[t].id,name:c[t].name}})),-1===o.indexOf(t)&&(n=he({},n,{[t]:{id:l[0].id,name:l[0].name}}))}(null==(d=u)?void 0:d.length)-1===a&&(p=m),s(()=>he({},p,n,{[e]:{id:t,name:l}}))}else s(()=>{var n;return(null==(n=m[e])?void 0:n.id)===t?m:{[e]:{id:t,name:l}}})},[u,c,m]),w=$((e,t)=>{const l=Object.entries(c),n=Object.keys(c).indexOf(e)+1;if(t)h(p.current),s(m);else{const e=l.slice(0,n),t=Object.fromEntries(e);r({key:"breadcrumb",value:t}),g(t),s(t),h(null)}},[m,r,c]),x=$(()=>{h(null),s(m)},[m]);B(()=>E(t),[c,t]),B(()=>{var e;(null==(e=Object.keys(c))?void 0:e.length)<1&&s(m)},[m,c]),B(()=>{var e;return g(null!=(e=null==o?void 0:o.breadcrumb)?e:{})},[null==o?void 0:o.breadcrumb]);const k=H(()=>{const e=Object.entries(u),t=[];for(const[r,o]of e){var l;t.push(M.createElement(Bt,{key:r,selectedKey:r,items:o,onMouseEnter:C,onClick:w,selectedId:null==(l=c[r])?void 0:l.id,translations:null!=n?n:{}}))}return t},[w,C,u,c,n]),S=H(()=>{var e;const t=Object.entries(m),r=t[t.length-1],o=[M.createElement(l,{color:"textPrimary",variant:"h6",onClick:()=>w("",0===t.length),key:"initial-table-breadcrumb",classes:{root:i.pointer}},null!=(e=null==n?void 0:n.all)?e:"All")];for(const[e,n]of t)o.push(M.createElement(l,{color:"textPrimary",variant:"h6",key:n.id,onClick:()=>w(e,e===r[0]),"aria-describedby":y,classes:{root:i.pointer}},n.name));return o},[m,i.pointer,w,y,null==n?void 0:n.all]);return M.createElement(e,{display:"flex",flexDirection:"column"},M.createElement(e,{display:"flex",alignItems:"center"},M.createElement(j,{separator:M.createElement(Wt,null),classes:{separator:i.seperator},ref:p},S),M.createElement(Mt,{classes:{root:i.dropdownIconRoot},onClick:()=>w("",!0)})),M.createElement(f,{id:y,open:b,anchorEl:v,onClose:x,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},PaperProps:{style:{height:"400px"}}},M.createElement(e,{padding:1,height:"100%"},M.createElement(P,{container:!0,height:"100%"},k))))}function Gt({selectedRowIds:t,selectedRows:l,actions:n,methods:r,translations:o,onGlobalFilter:a,globalFilters:i,breadcrumbFilterData:c}){const s=Tt();return M.createElement(e,{className:s.wrapper},!!n&&M.createElement(zt,{selectedRowIds:t,selectedRows:l,actions:n,methods:r,translations:o}),!!c&&M.createElement(Ht,{onGlobalFilter:a,translations:o,globalFilters:i,data:c}),M.createElement(Nt,{onGlobalFilter:a,translations:o,globalFilters:i}))}const Yt={paginator:It,headFilter:St,headIndicator:At,globalActions:Gt};var qt=ae(e=>({footer:{transition:e.transitions.create(["background","box-shadow"]),background:"rgba(0,0,0,0)",boxShadow:"none"},raised:{background:e.palette.background.paper,boxShadow:e.shadows[15]}}));const Xt=["children","bodyRef"],Jt="undefined"==typeof window?null:window;function Qt(e){let{children:t,bodyRef:l}=e,n=fe(e,Xt);const r=qt(),o=W(null);return X(()=>{let e=null,t=!1,n=0;const a=()=>{var i,c,s,u;const d=-((null!=(i=null==l||null==(c=l.current)?void 0:c.getBoundingClientRect().bottom)?i:0)-window.innerHeight+(null!=(s=null==o||null==(u=o.current)?void 0:u.offsetHeight)?s:0));o.current&&(o.current.style.transform=d>=0?"":`translateY(${d}px)`,d<0&&n>=0?o.current.classList.add(r.raised):d>=0&&n<0&&o.current.classList.remove(r.raised)),n=d,e=setTimeout(()=>{e=null,t&&(t=!1,a())},1e3/120)},i=()=>{null===e?a():t=!0};return null==Jt||Jt.addEventListener("scroll",i),null==Jt||Jt.addEventListener("resize",i),i(),()=>{null==Jt||Jt.removeEventListener("scroll",i),null==Jt||Jt.removeEventListener("resize",i)}},[l,r.raised,t]),M.createElement(A,Object.assign({},n,{className:r.footer,ref:o}),t)}var Kt=ae({totalsSelectCell:{paddingRight:0,"&:not(:last-child)":{borderRight:"none !important",boxShadow:"none !important"}}});function Zt({footerGroups:e,hasSelection:t,stickyTotals:l,classes:n,bodyRef:r}){const o=Kt(),a=$(e=>{var t;const l=null==(t=e.mpColumn)?void 0:t.width;return l?{minWidth:l,width:l,maxWidth:l}:void 0},[]),i=e.map(e=>M.createElement(y,Object.assign({},e.getFooterGroupProps()),t&&M.createElement(b,{className:et(o.totalsSelectCell,null==n?void 0:n.totalsSelectCell)}),e.headers.map(e=>M.createElement(b,Object.assign({style:a(e)},e.getFooterProps()),null!=e.Footer&&e.render("Footer")))));return l?M.createElement(Qt,{bodyRef:r},i):M.createElement(A,null,i)}var _t=ae({selectCell:{maxWidth:42,paddingRight:0,"&:not(:last-child)":{borderRight:"none"},"tr:last-child &":{overflow:"hidden"}},cellCheckbox:{margin:-12}});function Ut({row:t,selection:l,toggleAllRowsSelected:n,classes:r}){const o=t.getToggleRowSelectedProps(),a=_t(),c=$(e=>{"single"===l&&n(!1),t.toggleRowSelected(e.target.checked)},[t,l,n]),s=$(e=>e.stopPropagation(),[]);return M.createElement(b,{className:et(a.selectCell,null==r?void 0:r.selectCell),onClick:s},M.createElement(e,{display:"flex"},M.createElement(i,Object.assign({color:"primary"},o,{className:et(a.cellCheckbox,null==r?void 0:r.selectCellCheckbox),onChange:c}))))}var el=ae(e=>({renderedCell:{paddingTop:2,paddingBottom:2},highlightedPrimary:{background:"dark"===e.palette.mode?pe(e.palette.primary.main,.7):ve(e.palette.primary.main,.9)},highlightedSecondary:{background:"dark"===e.palette.mode?pe(e.palette.secondary.main,.7):ve(e.palette.secondary.main,.9)},highlightedInactive:{background:e.palette.background.default,color:e.palette.text.secondary},cell:{color:"inherit"},pointer:{cursor:"pointer"}}));function tl({row:e,selection:t,classes:l,toggleAllRowsSelected:n,highlights:r,onRowClick:o}){var a,i,c,s,u;const{inactive:d,primary:m,secondary:g}=function(e,t){const{original:l}=e;return H(()=>({inactive:!(null==t||!t.inactive||null==l||!l[null==t?void 0:t.inactive]),primary:!(null==t||!t.primary||null==l||!l[null==t?void 0:t.primary]),secondary:!(null==t||!t.secondary||null==l||!l[null==t?void 0:t.secondary])}),[l,t])}(e,r),p=el(),v=$(()=>{null==o||o(e)},[o,e]),h=$(e=>{var t;const l=null==(t=e.column.mpColumn)?void 0:t.width;return l?{minWidth:l,width:l,maxWidth:l}:void 0},[]);return M.createElement(y,Object.assign({},e.getRowProps(),{className:et({[null!=(a=null==l?void 0:l.row)?a:""]:null!=(null==l?void 0:l.row),[null!=(i=null==l?void 0:l.highlightedInactive)?i:p.highlightedInactive]:d,[null!=(c=null==l?void 0:l.highlightedPrimary)?c:p.highlightedPrimary]:m,[null!=(s=null==l?void 0:l.highlightedSecondary)?s:p.highlightedSecondary]:g,[p.pointer]:o,[null!=(u=null==l?void 0:l.rowSelected)?u:""]:null!=(null==l?void 0:l.rowSelected)&&e.isSelected}),onClick:v}),null!=t&&M.createElement(Ut,{classes:l,row:e,selection:t,toggleAllRowsSelected:n}),e.cells.map(e=>M.createElement(b,Object.assign({},e.getCellProps(),{className:et(p.cell,{[p.renderedCell]:null!=e.column.mpColumn.render}),style:h(e)}),e.render("Cell"))))}const ll=(e,t=localStorage)=>{try{const l=t.getItem(e);return null!=l&&""!==l?JSON.parse(null!=l?l:""):null}catch(e){return console.warn(e),null}},nl=(e,t=localStorage)=>[H(()=>{const l=ll(e,t);try{return JSON.parse(l)}catch(e){return l}},[e,t]),$(l=>{t.setItem(e,JSON.stringify(l))},[e,t])],rl=(e,t)=>{const[l,n]=nl(e),r=Y(null!=l?l:t),[o]=r;return B(()=>{n(o)},[n,o]),r},ol=[];function al({columns:t,data:l=ol,loading:n,size:r,onGetData:o,dataCount:a,storageIdentifier:i,cacheFilters:c,cacheSorting:s,cacheGlobalFilter:u,filterVariant:d="head",localPagination:m=!1,localSorting:g=!1,localFiltering:p=!1,translations:v,pageSize:h=10,overridables:f,rowIdKey:b,selection:E,totals:C,stickyTotals:w,totalsData:x,bulkActions:k,bulkMethods:S,rowMethods:F,highlights:I,clearColumnFilters:O=!1,classes:R,asyncGetMethods:P,locale:L,disablePagination:j,disableSorting:A,onRowClick:N,enableGlobalActions:V,breadcrumbFilterData:G,onEdit:Y,onRowsSelected:q,emptyChildren:X,loadingComponent:J,clearFiltersEvent:Q,resetSelectedRows:K=!0}){const Z=H(()=>t.map(pt(f,A)),[t,f,A]),_=(e=>H(()=>e.filter(e=>{var t;return"string"!=typeof e.filter&&(null==(t=e.filter)?void 0:t.remote)}),[e]))(t),U=Et(),ee=W(null),te=H(()=>a&&!j?Math.ceil((null!=a?a:0)/h):void 0,[a,h,j]),[le,ne]=nl(`${i}-filters`),[re,oe]=nl(`${i}-sorting`),[ae,ie]=nl(`${i}-globalFilter`),[ge,{setGlobalFilters:pe}]=ke(u?ae:void 0),ve=H(()=>({pageIndex:0,filters:c&&null!=le?le:[],sortBy:s&&null!=re?re:[],pageSize:j?void 0:h}),[le,c,re,s,h,j]),fe=function(e){return H(()=>he({},Yt,null!=e?e:{}),[e])}(f),[be,ye]=vt(l,t,L),Ce=$(e=>null==e?void 0:e[b],[b]),we=H(()=>({columns:Z,data:be,initialState:ve,manualPagination:!m,manualSortBy:!g,manualFilters:!p,autoResetFilters:!(p&&null!=_&&_.length),getRowId:Ce,autoResetPage:!1,pageCount:te,autoResetSelectedRows:K}),[Z,be,ve,m,g,p,null==_?void 0:_.length,Ce,te]),xe=ce(we,se,ue,de,me),{visibleColumns:Se,getTableProps:Fe,getTableBodyProps:Ie,headerGroups:Oe,footerGroups:Re,page:Pe,prepareRow:Le,nextPage:je,previousPage:Ae,gotoPage:Te,getToggleAllRowsSelectedProps:De,toggleAllRowsSelected:ze,selectedFlatRows:Ne,setAllFilters:Me,setFilter:We}=xe,$e=xe.state,Be=function({state:e,visibleColumns:t,localFiltering:l,localSorting:n,rowIdKey:r,localPagination:o,globalFilters:a,remoteFiltersColumns:i}){const c=H(()=>n?void 0:e.sortBy,[n,e]),s=H(()=>o?void 0:e.pageSize,[e,o]),u=H(()=>o?void 0:e.pageIndex,[e,o]),d=W(),m=H(()=>{if(!l||null!=i&&i.length){if(l||null!=i&&i.length){var t,n;const l=null==(t=e.filters)||null==(n=t.filter(e=>!(null==i||!i.find(({key:t})=>t===e.id))))?void 0:n.reduce((e,t)=>(e[t.id]=t.value,e),{});return r=d.current,o=l,[...Object.keys(null!=r?r:{}),...Object.keys(null!=o?o:{})].find(e=>(null==r?void 0:r[e])!==(null==o?void 0:o[e]))?(d.current=l,l):d.current}return e.filters}var r,o},[l,i,e]),g=H(()=>t.map(e=>e.id),[t]),p=H(()=>a,[a]);return H(()=>{const e={columns:[r,...g]};return null!=s&&null!=u&&(e.cursor=u*s),null!=s&&(e.limit=s),null!=c&&(e.sort=c.map(e=>({key:e.id,desc:e.desc}))),null!=m&&(e.filters=m),null!=p&&(e.globalFilters=p),e},[s,u,g,c,m,r,p])}({state:$e,visibleColumns:Se,localFiltering:p,localPagination:m,localSorting:g,rowIdKey:b,globalFilters:ge,remoteFiltersColumns:_});B(()=>{o(Be)},[o,Be]),B(()=>{c&&ne($e.filters)},[c,$e.filters,ne]),B(()=>{s&&oe($e.sortBy)},[s,$e.sortBy,oe]),B(()=>{u&&ie(ge)},[u,ie,ge]),B(()=>{null==Y||Y(be)},[be,Y]),B(()=>{"function"==typeof q&&q(Ne)},[Ne,q]),B(()=>{null!=Q&&(null!=Q&&Q.length||Me([]),null!=Q&&Q.length&&Q.forEach(e=>We(e,[])))},[Q,Me,We]);const Ve=H(()=>({opacity:n?.5:void 0}),[n]),He=H(()=>Z.length+(E?1:0),[Z,E]),Ge=H(()=>({totalsData:x,size:r,rowMethods:F,translations:v,locale:L,asyncGetMethods:P,localPagination:m,localSorting:g,localFiltering:p,onInputChange:ye}),[x,r,F,v,L,P,m,g,p,ye]);return M.createElement(Ee.Provider,{value:Ge},M.createElement(e,{className:U.parent},V&&M.createElement(fe.globalActions,{selectedRows:Ne,selectedRowIds:$e.selectedRowIds,actions:k,methods:S,translations:v,onGlobalFilter:pe,globalFilters:ge,breadcrumbFilterData:G}),M.createElement(e,{className:et(U.wrapper,null==R?void 0:R.tableWrapper,{[U.stickyTotalsWrapper]:w})},M.createElement(T,Object.assign({size:r},Fe(),{className:et(U.table,null==R?void 0:R.table)}),M.createElement(D,null,Oe.map(e=>M.createElement(y,Object.assign({},e.getHeaderGroupProps()),null!=E&&M.createElement(kt,Object.assign({classes:R,selection:E},De())),e.headers.map(e=>M.createElement(yt,Object.assign({},e.getHeaderProps(),{overridables:fe,variant:"head"===d?"extended":"simple",column:e,clearFiltersEvent:Q,clearColumnFilters:O,classes:R})))))),M.createElement(z,Object.assign({},Ie(),{style:Ve,ref:ee}),Pe.length<1&&M.createElement(Ct,{cellCount:He,loading:n,emptyChildren:X,loadingComponent:J}),Pe.map(e=>(Le(e),M.createElement(tl,{key:e.getRowProps().key,row:e,highlights:I,classes:R,selection:E,toggleAllRowsSelected:ze,onRowClick:N})))),!!C&&!!x&&M.createElement(Zt,{footerGroups:Re,hasSelection:null!=E,classes:R,bodyRef:ee,stickyTotals:w}))),!j&&M.createElement(fe.paginator,{pageSize:$e.pageSize,itemCount:a,pageCount:te,pageIndex:$e.pageIndex,previousPage:Ae,nextPage:je,gotoPage:Te,loading:n,translations:v,selectedCount:Ne.length})))}const il=e=>({q1:[{key:"month",label:"January",value:`Jan, ${e}`},{key:"month",label:"February",value:`Feb, ${e}`},{key:"month",label:"March",value:`Mar, ${e}`}],q2:[{key:"month",label:"April",value:`Apr, ${e}`},{key:"month",label:"May",value:`May, ${e}`},{key:"month",label:"June",value:`Jun, ${e}`}],q3:[{key:"month",label:"July",value:`Jul, ${e}`},{key:"month",label:"August",value:`Aug, ${e}`},{key:"month",label:"September",value:`Sep, ${e}`}],q4:[{key:"month",label:"October",value:`Oct, ${e}`},{key:"month",label:"November",value:`Nov, ${e}`},{key:"month",label:"December",value:`Dec, ${e}`}]}),cl=(e,t)=>{const{q1:l,q2:n,q3:r,q4:o}=t;return[{key:"quarter",label:"Q1",value:`Q1, ${e}`,items:l},{key:"quarter",label:"Q2",value:`Q2, ${e}`,items:n},{key:"quarter",label:"Q3",value:`Q3, ${e}`,items:r},{key:"quarter",label:"Q4",value:`Q4, ${e}`,items:o}]};var sl=ae({endItem:{paddingTop:14,paddingBottom:12,paddingLeft:0,paddingRight:0,minWidth:130},paper:{maxWidth:340,maxHeight:580,overflowY:"auto",position:"relative",paddingTop:50,"-ms-overflow-style":"none",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},toggle:{height:44,maxWidth:195,display:"flex",alignItems:"center",cursor:"pointer",paddingLeft:14,paddingRight:38,position:"relative",color:"#69717D"},selected:{color:"black"},arrow:{position:"absolute",right:14,top:"50%",transform:"translateY(-50%)"},noPadding:{padding:0,alignItems:"center"},typography:{padding:"0 35px",width:"100%"},fullWidth:{width:"100%",position:"relative",paddingLeft:40},listItem:{background:"white",flexDirection:"row-reverse","&:hover":{background:"white","& > .MuiTypography-root":{fontWeight:"bold"}},border:"1px solid rgba(0, 0, 0, 0.1)",borderTop:0,borderLeft:0,"&:last-child":{borderBottom:0}},iconContainer:{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",left:20,top:"50%",transform:"translateY(-50%)","& .MuiSvgIcon-root":{width:12,height:9}},active:{fontWeight:"bold"},header:{display:"flex",alignItems:"center",justifyContent:"space-between",height:50,paddingLeft:40,paddingRight:25,borderBottom:"1px solid rgba(0, 0, 0, 0.1)",position:"fixed",top:0,width:"100%",zIndex:1,background:"white"},headerAction:{color:"#69717D",cursor:"pointer","&:hover":{color:"black",fontWeight:"bold"}}});function ul(e){return M.createElement(C,Object.assign({fontSize:"small",width:"12",height:"9",viewBox:"0 0 12 9",fill:"none"},e,{style:{fill:"none",width:12,height:9,overflow:"visible"}}),M.createElement("path",{d:"M1 4L4.5 7.5L11 1",stroke:"#4DA621",strokeWidth:"2"}))}function dl({data:e,onClick:l,date:n}){const r=sl();return M.createElement(L,{disablePadding:!0},e.map(e=>{const o=n===e.value;return M.createElement(R,{classes:{root:et({[r.listItem]:!0,[r.noPadding]:!(null==e||!e.items),[r.endItem]:!(null!=e&&e.items)})},onClick:t=>{t.stopPropagation(),l(e.value,e.key)},button:!0,key:e.value,disableRipple:!0},M.createElement(t,{className:et({[r.typography]:null==e?void 0:e.items,[r.fullWidth]:!0,[r.active]:o}),variant:"body2"},o&&M.createElement(ul,{className:r.iconContainer}),e.label),(null==e?void 0:e.items)&&M.createElement(dl,{data:e.items,onClick:l,date:n}))}))}function ml({date:l,onSelectAll:n,translations:r,FromToFilter:o,filterProps:a}){var i,c,s;const u=sl(),[d,m]=Y(!1),g=$(()=>m(!0),[]);return d&&o?M.createElement(o,Object.assign({},a)):M.createElement(e,{className:u.header},!l&&M.createElement(ul,{className:u.iconContainer}),M.createElement(t,{onClick:n,classes:{root:u.headerAction},variant:"body2"},null!=(i=null==r?void 0:r.allTime)?i:"All time"),!!o&&M.createElement(t,{onClick:e=>{e.stopPropagation(),g()},classes:{root:u.headerAction},variant:"body2"},`${null!=(c=null==r?void 0:r.from)?c:"From"} - ${null!=(s=null==r?void 0:r.to)?s:"To"}`))}function gl(e){return M.createElement(C,Object.assign({fontSize:"small",width:"10",height:"5",viewBox:"0 0 10 5"},e,{style:{fill:"none",width:10,height:5,overflow:"visible"}}),M.createElement("path",{d:"M1.5 1.5L6.5 6.5L11.5 1.5",stroke:"#69717D",strokeWidth:"1.5",strokeLinecap:"round"}))}function pl(e){return M.createElement(C,Object.assign({fontSize:"small",fill:"none",width:"10",height:"5",viewBox:"0 0 10 5"},e,{style:{fill:"none",width:10,height:5,overflow:"visible"}}),M.createElement("path",{d:"M11.5 6.5L6.5 1.5L1.5 6.5",stroke:"black",strokeWidth:"1.5",strokeLinecap:"round"}))}function vl({anchorEl:e}){const t=sl(),l=H(()=>null===e?gl:pl,[e]);return M.createElement(l,{className:t.arrow})}function hl({items:t,placement:l,translations:n,FromToFilter:r,onGetData:o}){const a=sl(),{setDatepickerValues:i,clearSelected:c,date:s,handleFilterClick:u,dateFrom:d,dateTo:m}=function(){const[e,t]=rl("datepicker",null),[l,n]=rl("datepickerISO",null),[r,o]=rl("datepickerDateFrom",null),[a,i]=rl("datepickerDateTo",null),c=$(e=>{const t=Number(e.charAt(1)),l=e.substr(3),n=ie(l).quarter(t);return{dateFrom:n.startOf("quarter").toISOString(),dateTo:n.endOf("quarter").toISOString()}},[]),s=$(e=>{const t=ie(e);return{dateFrom:t.startOf("year").toISOString(),dateTo:t.endOf("year").toISOString()}},[]),u=$(e=>{const t=ie(e);return{dateFrom:t.startOf("month").toISOString(),dateTo:t.endOf("month").toISOString()}},[]),d=$(e=>!!e&&ie(e).format("YYYY MMM"),[]),m=$((e,l,m)=>{if("dateFrom"===l){var g;const l=`${d(e)} - ${null!=(g=d(a))?g:""}`;m({dateFrom:null!=r?r:"",dateTo:null!=a?a:""}),t(l)}else if("dateTo"===l){var p;m({dateFrom:null!=r?r:"",dateTo:null!=a?a:""});const l=null!=(p=d(r))?p:"",n=d(e);t(`${l} - ${n}`)}else t(e);let v=null;switch(l){case"month":v=u(e);break;case"quarter":v=c(e);break;case"year":v=s(e);break;case"dateFrom":o(ie(e).toISOString());break;case"dateTo":i(ie(e).toISOString())}v&&(m(v),n(v))},[r,a,d,u,c,s,t,n,o,i]),g=$(()=>{r&&a&&n({dateFrom:r,dateTo:a})},[r,a,n]);return{date:e,setDatepickerValues:m,dateFilter:l,clearSelected:$(e=>{t(null),n(null),e(null)},[t,n]),handleFilterClick:g,dateFrom:r,dateTo:a}}(),g=(()=>{let e=2021;return H(()=>{const t=[];for(;e>2015;){const l=e.toString(),n=il(e),r=cl(e,n);t.push({key:"year",label:l,value:l,items:r}),e--}return t},[e])})(),p=H(()=>null!=t?t:g,[g,t]),[v,h]=Y(null),f=H(()=>!!v,[v]),b=H(()=>f?"datepicker-popper":void 0,[f]),y=H(()=>({onFilter:()=>{u(),h(null)},onDateChange:i,dateFrom:d,dateTo:m,onGetData:o}),[d,m,u,o,i]),E=$(e=>{h(v?null:e.currentTarget)},[v]),C=$((e,t)=>{h(null),i(e,t,o)},[o,i]),w=$(()=>{c(o),h(null)},[c,o]);return M.createElement(F,{onClickAway:()=>h(null)},M.createElement(e,null,M.createElement(S,{className:et({[a.toggle]:!0,[a.selected]:!!s}),"aria-describedby":b,onClick:E},null!=s?s:"All time",M.createElement(vl,{anchorEl:v})),M.createElement(x,{id:b,open:f,anchorEl:v,style:{zIndex:1299},placement:null!=l?l:"bottom-end",transition:!0},({TransitionProps:e})=>M.createElement(N,Object.assign({},e,{timeout:350}),M.createElement(S,{elevation:4,className:a.paper},M.createElement(ml,{translations:n,date:s,onSelectAll:w,FromToFilter:r,filterProps:y}),M.createElement(dl,{date:s,data:p,onClick:C}))))))}export{Mt as BreadcrumbFilterDown,Wt as BreadcrumbSeparator,ot as Button,Ot as Filter,Rt as FilterArrowDown,Pt as FilterArrowUp,Lt as FilterOutline,Ee as MetaContext,He as MpColumnFormat,Ge as MpColumnRender,hl as MpDatepicker,Re as MpFilterType,al as MpTable,Ht as MpTableBreadcrumb,zt as MpTableBulkActions,_e as MpTableFilter,Gt as MpTableGlobalActions,Nt as MpTableGlobalFilter,St as MpTableHeadFilter,At as MpTableHeadIndicator,It as MpTablePaginator,al as MpTableRow,Me as NumberRange,Te as SearchSelect,Oe as Select,st as StatusPill,it as Switch,Le as Text,at as Toggle,pt as convertMpToColumn,Be as formatDate,Ve as formatDatetime,tt as getColumnAction,mt as getFooterValue,ll as getFromStorage,$t as getNestedElementsMapReduce,Xe as getRawValue,nt as handleBulkAction,lt as handleRowAction,Ye as mapFormatter,$e as toCurrency,We as toPercent,Se as useClearFilters,vt as useDataFormatters,be as useDebounce,xe as useFilterItems,Ce as useFilterOptions,ke as useGlobalFilters,ct as useRendererOptions,nl as useStorage,rl as useStoredState,ye as useUnmounted};
//# sourceMappingURL=table.modern.js.map
