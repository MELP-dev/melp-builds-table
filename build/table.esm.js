import{Box as e,Typography as n,Link as t,Divider as l,FormControl as r,FormGroup as o,FormControlLabel as a,Checkbox as i,CircularProgress as u,InputBase as c,IconButton as s,Icon as d,Button as m,ToggleButton as f,ToggleButtonGroup as v,Switch as g,Chip as p,Popover as h,TableCell as b,TableRow as y,Tooltip as E,SvgIcon as w,MenuItem as C,Popper as x,Grow as k,Paper as S,ClickAwayListener as F,MenuList as I,TextField as O,ListItem as R,Grid as P,List as L,Breadcrumbs as j,TableFooter as A,Table as T,TableHead as D,TableBody as z,Fade as N}from"@mui/material";import W,{useRef as M,useCallback as B,useEffect as V,createContext as H,useMemo as G,useContext as Y,useState as q,forwardRef as X,useLayoutEffect as J}from"react";import{TabUnselected as Q,Search as K,HourglassEmpty as Z,SortByAlpha as _,ChevronLeft as U,ChevronRight as $,ArrowDropDown as ee,ArrowDropUp as ne,Clear as te,ExpandMore as le,Close as re,Menu as oe}from"@mui/icons-material";import ae from"@mui/styles/makeStyles";import ie from"moment";import"moment/min/locales";import{useTable as ue,useFilters as ce,useSortBy as se,usePagination as de,useRowSelect as me}from"react-table";import fe from"@mui/material/styles/createPalette";import{darken as ve,lighten as ge}from"@mui/material/styles";function pe(){return pe=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},pe.apply(this,arguments)}function he(e,n){if(null==e)return{};var t,l,r={},o=Object.keys(e);for(l=0;l<o.length;l++)n.indexOf(t=o[l])>=0||(r[t]=e[t]);return r}function be(e){void 0===e&&(e=500);var n=M(null),t=B(function(t){n.current&&clearTimeout(n.current),n.current=setTimeout.apply(void 0,[t,e].concat([].slice.call(arguments,1)))},[e]);return t}function ye(){var e=M(!1);return V(function(){return function(){e.current=!0}},[]),e}var Ee=H({});function we(e){var n=e.filter;return G(function(){return"string"==typeof n?{type:n}:n},[n])}var Ce=function(e,n,t,l,r,o,a){var i=Date.now();r.current=i,l(!0),e({search:n}).then(function(e){r.current!==i||o.current||(l(!1),Array.isArray(e)&&t([].concat(null!=a?a:[],null!=e?e:[])))})};function xe(e,n){var t=Y(Ee),l=t.asyncGetMethods,r=t.localFiltering,o=e.preFilteredRows,a=e.id,i=ye(),u=q(),c=u[0],s=u[1],d=q(!r&&null!=(null==n?void 0:n.asyncGet)&&"function"==typeof(null==l?void 0:l[n.asyncGet])),m=d[0],f=d[1],v=M(null),g=be(500),p=B(function(e){var t,u,c,d,m,p;if(r&&(null!=(t=null==n||null==(u=n.items)?void 0:u.length)?t:0)<1){var h=(m=o,p=a,m.map(function(e){return e.values[p]}).filter(function(e,n,t){return t.indexOf(e)===n})).filter(function(n){return null==e||""===e||-1!==(n+"").toLowerCase().indexOf(e.toLowerCase())}).map(function(e){return{value:e,label:e}});s(h)}else r&&(null!=(c=null==n||null==(d=n.items)?void 0:d.length)?c:0)>0?s(null==n?void 0:n.items):null!=(null==n?void 0:n.asyncGet)&&"function"==typeof(null==l?void 0:l[n.asyncGet])&&g(Ce,null==l?void 0:l[n.asyncGet],e,s,f,v,i,n.items)},[l,null==n?void 0:n.asyncGet,null==n?void 0:n.items,a,f,r,o,g,i,v]);return G(function(){return{items:c,getItems:p,loading:m}},[c,p,m])}var ke=function(e){var n=q(e),t=n[0],l=n[1],r=B(function(e){l(function(n){var t,l;return n?pe({},n,((t={})[e.key]=e.value,t)):((l={})[e.key]=e.value,l)})},[]);return G(function(){return[t,{setGlobalFilters:r}]},[t,r])};function Se(){var e=q(void 0),n=e[1];return{clearFiltersEvent:e[0],clearFilters:B(function(e){return n(null!=e?e:[])},[])}}var Fe=ae(function(){return{emptyAnchor:{cursor:"pointer",userSelect:"none"}}}),Ie=[];function Oe(c){var s,d,m,f,v=c.column,g=c.value,p=void 0===g?Ie:g,h=c.setValue,b=c.doFiltering,y=v.mpColumn,E=Y(Ee).translations,w=Fe(),C=we(y),x=xe(v,C),k=x.loading,S=x.items,F=x.getItems,I=B(function(e){e.target.checked?null!=p&&p.includes(e.target.name)||h([].concat(null!=p?p:[],[e.target.name])):h(null==p?void 0:p.filter(function(n){return n!==e.target.name}))},[h,p]),O=B(function(e){e.preventDefault(),b(null)},[b]);return V(function(){F()},[F]),W.createElement(e,{display:"flex",flexDirection:"column"},W.createElement(e,{paddingLeft:2,display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},W.createElement(n,{variant:"subtitle2"},null!=(s=null==C?void 0:C.label)?s:""),W.createElement(e,{paddingX:2,paddingY:1.5},W.createElement(t,{color:"textSecondary",onClick:O,className:w.emptyAnchor},null!=(d=null==E?void 0:E.clear)?d:"Clear"))),W.createElement(l,null),!k&&(null!=(m=null==S?void 0:S.length)?m:0)>0&&W.createElement(e,{paddingX:2,paddingY:1,maxHeight:300,overflow:"auto"},W.createElement(r,{component:"fieldset",color:"primary"},W.createElement(o,null,null==S?void 0:S.map(function(e,n){var t;return W.createElement(a,{key:n,onChange:I,name:e.value+"",control:W.createElement(i,{color:"primary",checked:null!=(t=null==p?void 0:p.includes(e.value+""))&&t}),label:e.label})})))),k&&W.createElement(e,{padding:2,display:"flex",justifyContent:"center",alignItems:"center",minHeight:100},W.createElement(u,null)),!k&&(null!=(f=null==S?void 0:S.length)?f:0)<1&&W.createElement(e,{padding:2,display:"flex",justifyContent:"center",alignItems:"center",minHeight:100},W.createElement(Q,{fontSize:"large",color:"disabled"})))}var Re,Pe=ae(function(){return{naked:{width:"100%"},emptyAnchor:{cursor:"pointer",userSelect:"none"}}});function Le(r){var o,a,i,u=r.value,s=r.setValue,d=r.doFiltering,m=r.column.mpColumn,f=Pe(),v=we(m),g=Y(Ee).translations,p=B(function(e){s(e.target.value)},[s]),h=B(function(e){e.preventDefault(),d(null)},[d]);return W.createElement(e,{display:"flex",flexDirection:"column"},W.createElement(e,{paddingLeft:2,display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},W.createElement(n,{variant:"subtitle2"},null!=(o=null==v?void 0:v.label)?o:""),W.createElement(e,{paddingX:2,paddingY:1.5},W.createElement(t,{color:"textSecondary",onClick:h,className:f.emptyAnchor},null!=(a=null==g?void 0:g.clear)?a:"Clear"))),W.createElement(l,null),W.createElement(e,{paddingY:1,paddingX:2},W.createElement(c,{value:null!=u?u:"",onChange:p,placeholder:null!=(i=null==g?void 0:g.search)?i:"Search",autoFocus:!0,className:f.naked,endAdornment:null!=(null==v?void 0:v.unitLabel)&&W.createElement(n,{color:"textSecondary"},null==v?void 0:v.unitLabel)})))}!function(e){e.text="text",e.select="select",e.searchSelect="searchSelect",e.numberRange="numberRange"}(Re||(Re={}));var je=ae(function(e){return{naked:{width:"100%"},emptyAnchor:{cursor:"pointer",userSelect:"none"},searchIcon:{marginRight:e.spacing(1)}}}),Ae=[];function Te(s){var d,m,f,v,g,p=s.column,h=s.value,b=void 0===h?Ae:h,y=s.setValue,E=s.doFiltering,w=p.mpColumn,C=Y(Ee).translations,x=q(),k=x[0],S=x[1],F=je(),I=we(w),O=xe(p,I),R=O.loading,P=O.items,L=O.getItems,j=B(function(e){e.target.checked?null!=b&&b.includes(e.target.name)||y([].concat(null!=b?b:[],[e.target.name])):y(null==b?void 0:b.filter(function(n){return n!==e.target.name}))},[y,b]),A=B(function(e){S(e.target.value)},[S]),T=B(function(e){e.preventDefault(),E(null)},[E]);return V(function(){L(k)},[L,k]),W.createElement(e,{display:"flex",flexDirection:"column"},W.createElement(e,{paddingLeft:2,display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},W.createElement(n,{variant:"subtitle2"},null!=(d=null==I?void 0:I.label)?d:""),W.createElement(e,{paddingX:2,paddingY:1.5},W.createElement(t,{color:"textSecondary",onClick:T,className:F.emptyAnchor},null!=(m=null==C?void 0:C.clear)?m:"Clear"))),W.createElement(l,null),W.createElement(e,{paddingY:1,paddingX:2},W.createElement(c,{startAdornment:W.createElement(K,{className:F.searchIcon,color:"action"}),value:null!=k?k:"",onChange:A,placeholder:null!=(f=null==C?void 0:C.search)?f:"Search",autoFocus:!0,className:F.naked})),W.createElement(l,null),!R&&(null!=(v=null==P?void 0:P.length)?v:0)>0&&W.createElement(e,{paddingX:2,paddingY:1,maxHeight:300,overflow:"auto"},W.createElement(r,{component:"fieldset",color:"primary"},W.createElement(o,null,null==P?void 0:P.map(function(e,n){var t;return W.createElement(a,{key:n,onChange:j,name:e.value+"",control:W.createElement(i,{color:"primary",checked:null!=(t=null==b?void 0:b.includes(e.value+""))&&t}),label:e.label})})))),R&&W.createElement(e,{padding:2,display:"flex",justifyContent:"center",alignItems:"center",minHeight:100},W.createElement(u,null)),!R&&(null!=(g=null==P?void 0:P.length)?g:0)<1&&W.createElement(e,{padding:2,display:"flex",justifyContent:"center",alignItems:"center",minHeight:100},W.createElement(Q,{fontSize:"large",color:"disabled"})))}var De=ae(function(){return{naked:{width:"100%"},emptyAnchor:{cursor:"pointer",userSelect:"none"}}}),ze=["onChange","inputRef"],Ne=X(function(e,n){var t=e.onChange,l=e.inputRef,r=he(e,ze),o=B(function(e){var n=e.target.value;n=(n=(n=n.replace(/-/g,function(e,n){return n>0?"":e})).replace(/[.,]/g,function(e,n,t){var l,r;return t.indexOf(null!=(l=null==(r=t.match(/[.,]/g))?void 0:r[0])?l:".")!==n||0===n?"":e})).replace(/[^\d.,-]/g,""),e.target.value=n,"function"==typeof t&&t(e)},[t]);return W.createElement("input",Object.assign({ref:null!=n?n:l},r,{onChange:o,inputMode:"decimal"}))});function We(r){var o,a,i,u,s,d,m=r.value,f=r.setValue,v=r.doFiltering,g=r.column.mpColumn,p=De(),h=we(g),b=Y(Ee).translations,y=B(function(e){var n=e.target.value;f(null!=n&&""!==n?function(e){return pe({},null!=e?e:{},{min:n})}:function(e){return null!=(null==e?void 0:e.max)&&""!==(null==e?void 0:e.max)?{max:null==e?void 0:e.max}:null})},[f]),E=B(function(e){var n=e.target.value;f(null!=n&&""!==n?function(e){return pe({},null!=e?e:{},{max:n})}:function(e){return null!=(null==e?void 0:e.min)&&""!==(null==e?void 0:e.min)?{min:null==e?void 0:e.min}:null})},[f]),w=B(function(e){e.preventDefault(),v(null)},[v]);return W.createElement(e,{display:"flex",flexDirection:"column"},W.createElement(e,{paddingLeft:2,display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},W.createElement(n,{variant:"subtitle2"},null!=(o=null==h?void 0:h.label)?o:""),W.createElement(e,{paddingX:2,paddingY:1.5},W.createElement(t,{color:"textSecondary",onClick:w,className:p.emptyAnchor},null!=(a=null==b?void 0:b.clear)?a:"Clear"))),W.createElement(l,null),W.createElement(e,{paddingY:1,paddingX:2},W.createElement(c,{value:null!=(i=null==m?void 0:m.min)?i:"",onChange:y,placeholder:null!=(u=null==b?void 0:b.from)?u:"From",autoFocus:!0,className:p.naked,inputComponent:Ne,endAdornment:null!=(null==h?void 0:h.unitLabel)&&W.createElement(n,{color:"textSecondary"},null==h?void 0:h.unitLabel)})),W.createElement(l,null),W.createElement(e,{paddingY:1,paddingX:2},W.createElement(c,{value:null!=(s=null==m?void 0:m.max)?s:"",onChange:E,placeholder:null!=(d=null==b?void 0:b.to)?d:"To",className:p.naked,inputComponent:Ne,endAdornment:null!=(null==h?void 0:h.unitLabel)&&W.createElement(n,{color:"textSecondary"},null==h?void 0:h.unitLabel)})))}var Me,Be,Ve=function(e){var n=e.value,t="string"==typeof n?parseInt(n,10):n;return void 0!==n?Math.round(100*t)+"%":null},He=function(e){var n,t=e.value,l=e.options;return null!=(n=null==t?void 0:t.toLocaleString(e.locale,null!=l&&l.modifier?{style:"currency",currency:null==l?void 0:l.modifier}:void 0))?n:null},Ge=function(e){var n=e.value,t=e.locale;ie.locale(void 0===t?"en":t);var l=new Date(n);return ie(l).format("L")},Ye=function(e){var n=e.value,t=e.locale,l=void 0===t?"en":t,r=e.options;ie.locale(l);var o=new Date(n),a=ie(o);return Ge({value:n,locale:l,options:r})+" "+a.format("LT")};!function(e){e.currency="currency",e.percent="percent",e.date="date",e.dateTime="dateTime",e.map="map"}(Me||(Me={})),function(e){e.statusPill="statusPill",e.toggle="toggle",e.switch="switch",e.button="button",e.input="input"}(Be||(Be={}));var qe,Xe=function(e){var n,t,l=e.value,r=e.options;return null!=(n=null==r||null==(t=r.valueMap)?void 0:t[l])?n:l};function Je(e){return"__raw_"+e}function Qe(e,n){var t;return null!=(t=e[Je(n)])?t:e[n]}var Ke,Ze,_e=((qe={})[Me.currency]=He,qe[Me.percent]=Ve,qe[Me.date]=Ge,qe[Me.dateTime]=Ye,qe[Me.map]=Xe,qe),Ue=function(e,n,t){return!Array.isArray(t)||t.length<1?e:e.filter(function(e){return!!n.find(function(n){return t.includes(Qe(e.original,n))})})},$e=((Ke={})[Re.select]=Oe,Ke[Re.searchSelect]=Te,Ke[Re.text]=Le,Ke[Re.numberRange]=We,Ke),en=((Ze={})[Re.select]=Ue,Ze[Re.searchSelect]=Ue,Ze[Re.text]="text",Ze[Re.numberRange]=function(e,n,t){return null==t||"object"!=typeof t?e:e.filter(function(e){return!!n.find(function(n){return!(null!=(null==t?void 0:t.min)&&""!==(null==t?void 0:t.min)&&+Qe(e.original,n)<+(null==t?void 0:t.min)||null!=(null==t?void 0:t.max)&&""!==(null==t?void 0:t.max)&&+Qe(e.original,n)>+(null==t?void 0:t.max))})})},Ze);function nn(n){var t=n.column,l=n.value,r=n.setValue,o=n.overridables,a=n.doFiltering,i=G(function(){var e,n,l,r;return"string"==typeof(null==t||null==(e=t.mpColumn)?void 0:e.filter)?null==t||null==(n=t.mpColumn)?void 0:n.filter:null==t||null==(l=t.mpColumn)||null==(r=l.filter)?void 0:r.type},[t]),u=G(function(){var e,n;return i?null!=(e=null==o||null==(n=o.filters)?void 0:n[i])?e:$e[i]:null},[i,o]);return u?W.createElement(e,null,W.createElement(u,{column:t,value:l,setValue:r,doFiltering:a})):null}function tn(e){var n,t,l="";if("string"==typeof e||"number"==typeof e)l+=e;else if("object"==typeof e)if(Array.isArray(e))for(n=0;n<e.length;n++)e[n]&&(t=tn(e[n]))&&(l&&(l+=" "),l+=t);else for(n in e)e[n]&&(l&&(l+=" "),l+=n);return l}function ln(){for(var e,n,t=0,l="";t<arguments.length;)(e=arguments[t++])&&(n=tn(e))&&(l&&(l+=" "),l+=n);return l}var rn=function(e){var n,t=null==e||null==(n=e.mpColumn)?void 0:n.action;if(!t)throw new Error("Missing action property from column.");return t},on=function(e){var n=e.row,t=e.rowId,l=e.slug,r=e.value,o=e.methods;if(!o)throw new Error("No row methods provided. Please provide them in order to use them.");var a=o[l],i={value:r,row:n,rowId:t};if(!a)throw new Error("A method for action '"+l+"' does not exist. Either add it or remove this action.");a(i)},an=function(e){var n=e.slug,t=e.methods[n],l={selectedRows:e.selectedRows,selectedIds:e.selectedRowIds};if(!t)throw new Error("A method for action '"+n+"' does not exist. Either add it or remove this action.");t(l)},un=ae(function(){return{small:{maxHeight:28}}});function cn(e){var n=un(),t=e.column,l=e.row,r=Y(Ee),o=r.rowMethods,a=r.size,i=G(function(){return rn(t)},[t]),u=i.color,c=i.icon,f=i.label,v=i.variant,g=B(function(e){e.stopPropagation(),on({methods:o,slug:i.slug,row:l,rowId:l.id})},[l,i,o]);return c?W.createElement(s,{color:u,onClick:g,size:"large"},W.createElement(d,null,"icon")):W.createElement(m,{size:a,color:u,variant:v,onClick:g,classes:{sizeSmall:n.small}},f)}function sn(e){var n=e.column,t=e.row,l=e.value,r=Y(Ee),o=r.rowMethods,a=r.size,i=G(function(){return rn(n)},[n]),u=i.items,c=q(null!=l?l:i.defaultValue),s=c[0],m=c[1],g=B(function(e,n){e.stopPropagation(),on({methods:o,slug:i.slug,value:n,row:t,rowId:t.id}),m(n)},[m,i,t,o]),p=G(function(){return(u||[]).map(function(e){var n=e.value,t=e.icon,l=e.label,r=e.color,o=e.textColor,i=t?W.createElement(d,null,t):l,u="small"===a?24:void 0;return W.createElement(f,{key:n,size:a,value:n,"aria-label":"toggle-action",style:s===n?{color:o,backgroundColor:r,maxHeight:u}:{maxHeight:u}},i)})},[a,u,s]);return W.createElement(v,{value:s,exclusive:!0,onChange:g,"aria-label":"row-toggle"},p)}function dn(t){var l=t.column,r=t.row,o=t.value,a=Y(Ee),i=a.rowMethods,u=a.size,c=G(function(){return rn(l)},[l]),s=c.iconLeft,m=c.iconRight,f=c.labelLeft,v=c.labelRight,p=c.color,h=s?W.createElement(d,null,s):f,b=m?W.createElement(d,null,m):v,y=q(o),E=y[0],w=y[1],C=B(function(e){e.stopPropagation();var n=e.target.checked;w(n),on({methods:i,slug:c.slug,row:r,rowId:r.id,value:n})},[i,r,c]),x=B(function(e){return e.stopPropagation()},[]);return W.createElement(e,{display:"flex",alignItems:"center",justifyContent:"center",onClick:x},W.createElement(n,{component:"span"},h),W.createElement(g,{size:u,onChange:C,color:p,checked:E}),W.createElement(n,{component:"span"},b))}function mn(e){var n=e.cell,t=n.column.mpColumn,l=G(function(){return"string"==typeof(null==t?void 0:t.render)?{type:t.render}:null==t?void 0:t.render},[null==t?void 0:t.render]),r=G(function(){var e,t,r;return null!=(e=null==l||null==(t=l.styleMap)?void 0:t[null!=(r=n.value)?r:""])?e:void 0},[l,n]),o=G(function(){var e,t,r;return null!=(e=null==l||null==(t=l.valueMap)?void 0:t[null!=(r=n.value)?r:""])?e:n.value},[l,n]),a=G(function(){return n.column.id},[n.column.id]),i=G(function(){return n.row.index},[n.row.index]),u=G(function(){return null==t?void 0:t.inputProps},[null==t?void 0:t.inputProps]);return{column:t,renderOptions:l,style:r,value:o,columnId:a,columnIndex:i,inputProps:u}}function fn(n){var t=mn(n),l=t.style,r=t.value,o=Y(Ee).size,a=G(function(){return{backgroundColor:null!=l?l+"":void 0,color:null!=l?fe({primary:{main:l+""}}).getContrastText(l+""):void 0}},[l]);return W.createElement(e,{textAlign:"center"},W.createElement(p,{size:o,style:a,label:r}))}var vn,gn=ae(function(){return{root:{padding:0,maxHeight:29,width:"100%",fontSize:"inherit"},input:{height:"auto",maxHeight:29,padding:0,fontSize:"inherit"}}}),pn=((vn={})[Be.statusPill]=fn,vn[Be.button]=cn,vn[Be.toggle]=sn,vn[Be.switch]=dn,vn[Be.input]=function(e){var n=gn(),t=be(),l=mn(e),r=l.value,o=l.inputProps,a=l.columnId,i=l.columnIndex,u=Y(Ee).onInputChange,s=q(r),d=s[0],m=s[1];V(function(){return m(r)},[r]);var f=B(function(e){return e.stopPropagation()},[]),v=B(function(e){m(e.target.value),t(function(){return null==u?void 0:u(e,i,a)})},[a,i,t,u]);return W.createElement(c,Object.assign({onChange:v,value:d,classes:{root:n.root,input:n.input},onClick:f},o))},vn),hn=function(e){return function(){var n,t=Y(Ee).totalsData;return null!=(n=null==t?void 0:t[e])?n:null}},bn=function(e){return e},yn=function(e,n){return function(t){var l,r,o,a={Header:null!=(l=t.label)?l:t.key,accessor:t.key,mpColumn:t,disableSortBy:n||!1===t.sort};if(null!=(null==t?void 0:t.filter)&&(null==t||null==(r=t.filter)||!r.remote)){var i,u,c="string"==typeof t.filter?t.filter:t.filter.type;a.filter=null!=(i=null==e||null==(u=e.filterFunctions)?void 0:u[c])?i:en[c]}if(null!=(null==t?void 0:t.filter)&&!0===(null==t||null==(o=t.filter)?void 0:o.remote)&&(a.filter=bn),!1!==t.totals&&(a.Footer=hn(t.key)),null!=t.render){var s,d,m="string"==typeof t.render?t.render:t.render.type;a.Cell=null!=(s=null==e||null==(d=e.renderers)?void 0:d[m])?s:pn[m]}return a}};function En(e,n,t){var l=q([]),r=l[0],o=l[1],a=G(function(){var l=n.filter(function(e){return e.format});return e.map(function(e){return l.reduce(function(n,l){var r,o=l.key,a=l.format;return n[Je(o)]=e[Je(o)],n[o]=_e[null!=(r=null==a?void 0:a.type)?r:a]({value:e[o],locale:t,options:"string"==typeof a?void 0:a}),n},pe({},e))})},[e,n,t]);return V(function(){return o(a)},[a]),[r,B(function(e,n,t){var l=e.target.value;o(function(e){var r=[].concat(e);return r[n][t]=l,r})},[])]}var wn=ae(function(e){var n,t;return{wrapper:{display:"inline-flex",overflow:"hidden",alignItems:"center",userSelect:"none",whiteSpace:"pre",cursor:"pointer",position:"relative"},disabledSort:{color:null==e||null==(n=e.palette)||null==(t=n.text)?void 0:t.secondary,cursor:"default"},fixedWidth:{minWidth:function(e){return e.fixedColumnWidth},width:function(e){return e.fixedColumnWidth},maxWidth:function(e){return e.fixedColumnWidth}},hoveredCellWithFilters:{background:"dark"===e.palette.mode?ve(e.palette.background.default,.1):ge(e.palette.primary.light,.9)}}});function Cn(e){var n=e.column,t=e.anchorEl,l=e.canSort,r=e.onClose,o=e.isSortedDesc,a=e.doSorting,i=e.overridables,u=e.clearFiltersEvent,c=e.value,s=e.setValue,d=B(function(e){void 0===e&&(e=c),n.setFilter(e),s(e),r()},[c,n,r]);return V(function(){null!=u&&(null==u||!u.length||null!=u&&u.includes(n.id))&&s(null)},[u]),W.createElement(h,{open:!!t,anchorEl:null!=t?t:void 0,onClose:r,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},W.createElement(i.headFilter,{canSort:l,isSortedDesc:o,overridables:i,doSorting:a,doFiltering:d,value:c,setValue:s,column:n}))}var xn=["onClick","title"];function kn(e){var n,t,l,r,o=e.column,a=e.variant,i=void 0===a?"simple":a,u=e.overridables,c=e.clearFiltersEvent,s=e.clearColumnFilters,d=e.classes,m=o.getSortByToggleProps(),f=m.onClick,v=he(m,xn),g=o.isSortedDesc,p=wn({fixedColumnWidth:(null==o?void 0:o.mpColumn).width}),h=M(null),y=q(!1),E=y[0],w=y[1],C=q(o.filterValue),x=C[0],k=C[1],S=G(function(){var e;return!(null==(e=o.mpColumn)||!e.filter)},[o]),F=G(function(){var e,n;return!(null==(e=o.mpColumn)||!e.width||null==(n=o.mpColumn)||!n.fixedHeadWidth)},[o]),I=G(function(){return"extended"===i&&S},[i,S]),O=q(null),R=O[0],P=O[1],L=B(function(){return P(null)},[P]),j=B(function(e){I?P(h.current):o.canSort&&f(e)},[f,I,o]),A=B(function(e){e.stopPropagation(),o.setFilter(null),k(null)},[o]),T=B(function(){return w(!0)},[]),D=B(function(){return w(!1)},[]),z=null!=o.filterValue&&""!==o.filterValue&&(!Array.isArray(o.filterValue)||(null==(n=o.filterValue)?void 0:n.length)>0),N=G(function(){return z&&E&&s},[z,E,s]);return W.createElement(W.Fragment,null,W.createElement(b,Object.assign({className:ln((l={},l[p.fixedWidth]=F,l[null!=(t=null==d?void 0:d.hoveredCellWithFilters)?t:p.hoveredCellWithFilters]=N,l)),onClick:j,onMouseEnter:T,onMouseLeave:D},v),W.createElement("div",{ref:h,className:ln(p.wrapper,(r={},r[p.disabledSort]=!o.canSort&&!I,r))},o.render("Header")," ",W.createElement(u.headIndicator,{canSort:o.canSort,isExtended:I,filterSet:z,isSortedDesc:g,isHoveredCell:E,hasClear:s,clearFilters:A}))),I,W.createElement(Cn,{anchorEl:R,overridables:u,onClose:L,canSort:o.canSort,isSortedDesc:g,doSorting:f,column:o,clearFiltersEvent:c,value:x,setValue:k}))}var Sn=ae({parent:{borderRadius:"inherit"},wrapper:{maxWidth:"100%",overflowX:"auto",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},table:{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit",overflow:"hidden"},stickyTotalsWrapper:{position:"relative",overflow:"auto",zIndex:1},renderedCell:{paddingTop:2,paddingBottom:2}});function Fn(n){var t=n.cellCount,l=n.loading,r=n.emptyChildren,o=n.loadingComponent,a=G(function(){return l?o||W.createElement(Z,{fontSize:"large",color:"disabled"}):null},[l,o]),i=G(function(){return r?W.createElement(W.Fragment,null,a,!l&&r):W.createElement(e,{height:200,display:"flex",alignItems:"center",justifyContent:"center"},a,!l&&W.createElement(Q,{fontSize:"large",color:"disabled"}))},[l,a,r]);return W.createElement(y,null,W.createElement(b,{colSpan:t},i))}var In=ae({headSelectCell:{maxWidth:42,paddingRight:0,"&:not(:last-child)":{borderRight:"none"}},cellCheckbox:{margin:-12}}),On=["classes","selection","onChange"];function Rn(n){var t=n.classes,l=n.selection,r=n.onChange,o=he(n,On),a=In(),u=B(function(e){e.stopPropagation(),null==r||r(e)},[r]),c=B(function(e){return e.stopPropagation()},[]);return"single"===l?W.createElement(b,null):W.createElement(b,{className:ln(a.headSelectCell,null==t?void 0:t.headSelectCell),onClick:c},W.createElement(e,{display:"flex"},W.createElement(i,Object.assign({color:"primary"},o,{className:ln(a.cellCheckbox,null==t?void 0:t.headSelectCellCheckbox),onChange:u}))))}function Pn(n){var t=n.column,r=n.canSort,o=n.isSortedDesc,a=n.doSorting,i=n.doFiltering,u=n.value,c=n.setValue,s=n.overridables,d=B(function(e){e.preventDefault(),i()},[i]);return W.createElement("form",{onSubmit:d},W.createElement(e,{minWidth:150},W.createElement(nn,{column:t,value:u,setValue:c,doFiltering:i,overridables:s}),W.createElement(l,null),W.createElement(e,{display:"flex",justifyContent:"center",alignItems:"center"},r&&W.createElement(e,{paddingX:2,display:"flex",justifyContent:"center",alignItems:"center",style:{cursor:"pointer"},onClick:a},W.createElement(_,{fontSize:"small",color:null==o?"action":"primary"})),W.createElement(e,{flexGrow:1}),W.createElement(m,{color:"primary",type:"submit"},"Filter"))))}var Ln=ae({wrapper:{display:"flex",width:"100%",position:"relative",minHeight:48,alignItems:"center",justifyContent:"flex-end"},spacer:{flexGrow:1}});function jn(t){var l,r,o,a=t.pageIndex,i=t.previousPage,c=t.itemCount,d=t.nextPage,m=t.pageCount,f=t.pageSize,v=t.loading,g=t.translations,p=t.selectedCount,h=Ln(),b=G(function(){return a>0},[a]),y=G(function(){return null==m||a<m-1},[a,m]),w=G(function(){var e,n;return[null!=c?c+" "+(null!=(e=null==g?void 0:g.total)?e:"total"):null,null!=p&&p>0?p+" "+(null!=(n=null==g?void 0:g.selected)?n:"selected"):null].filter(function(e){return null!=e}).join(" • ")},[c,p,g]);return W.createElement(e,{paddingY:1,paddingX:2,className:ln(h.wrapper)},W.createElement(n,{color:"textSecondary",variant:"body2"},w),v&&W.createElement(e,{paddingX:1,display:"flex",alignItems:"center",justifyContent:"center"},W.createElement(u,{size:"1.5em","data-qa":"TableProgress"})),W.createElement(e,{className:h.spacer}),W.createElement(e,{paddingX:1},W.createElement(n,{color:"textSecondary",variant:"body2"},a*f+1," - ",(a+1)*f,null!=m?" "+(null!=(l=null==g?void 0:g.of)?l:"of")+" "+m:"")),W.createElement(E,{title:null!=(r=null==g?void 0:g.previousPage)?r:"Previous"},W.createElement("div",null,W.createElement(s,{size:"small",onClick:i,disabled:!b},W.createElement(U,null)))),W.createElement(E,{title:null!=(o=null==g?void 0:g.nextPage)?o:"Next"},W.createElement("div",null,W.createElement(s,{size:"small",onClick:d,disabled:!y},W.createElement($,null)))))}var An=function(e){return W.createElement(w,Object.assign({viewBox:"0 0 24 24"},e),W.createElement("svg",{viewBox:"0 0 24 24"},W.createElement("path",{fill:"currentColor",d:"M14,12V19.88C14.04,20.18 13.94,20.5 13.71,20.71C13.32,21.1 12.69,21.1 12.3,20.71L10.29,18.7C10.06,18.47 9.96,18.16 10,17.87V12H9.97L4.21,4.62C3.87,4.19 3.95,3.56 4.38,3.22C4.57,3.08 4.78,3 5,3V3H19V3C19.22,3 19.43,3.08 19.62,3.22C20.05,3.56 20.13,4.19 19.79,4.62L14.03,12H14Z"})))},Tn=function(e){return W.createElement(w,Object.assign({viewBox:"0 0 24 24"},e),W.createElement("svg",{viewBox:"0 0 24 24"},W.createElement("path",{fill:"currentColor",d:"M11 11L16.76 3.62A1 1 0 0 0 16.59 2.22A1 1 0 0 0 16 2H2A1 1 0 0 0 1.38 2.22A1 1 0 0 0 1.21 3.62L7 11V16.87A1 1 0 0 0 7.29 17.7L9.29 19.7A1 1 0 0 0 10.7 19.7A1 1 0 0 0 11 18.87V11M13 16L18 21L23 16Z"})))},Dn=function(e){return W.createElement(w,Object.assign({viewBox:"0 0 24 24"},e),W.createElement("svg",{viewBox:"0 0 24 24"},W.createElement("path",{d:"M11 11L16.76 3.62C16.9224 3.41153 16.9957 3.14726 16.9638 2.88493C16.932 2.6226 16.7976 2.38355 16.59 2.22C16.4221 2.08505 16.2152 2.00789 16 2H1.99999C1.77443 2.00131 1.55593 2.07884 1.37999 2.22C1.17243 2.38355 1.03804 2.6226 1.00618 2.88493C0.974328 3.14726 1.0476 3.41153 1.20999 3.62L6.99999 11V16.87C6.9819 17.0213 6.99862 17.1747 7.04888 17.3186C7.09914 17.4624 7.18161 17.5929 7.28999 17.7L9.28999 19.7C9.47736 19.8863 9.73081 19.9908 9.99499 19.9908C10.2592 19.9908 10.5126 19.8863 10.7 19.7C10.8102 19.5938 10.8945 19.4638 10.9465 19.3199C10.9985 19.176 11.0168 19.0221 11 18.87V11ZM13 21L18 16L23 21H13Z",fill:"currentColor"})))},zn=function(e){return W.createElement(w,Object.assign({viewBox:"0 0 24 24"},e),W.createElement("svg",{viewBox:"0 0 24 24"},W.createElement("path",{fill:"currentColor",d:"M15,19.88C15.04,20.18 14.94,20.5 14.71,20.71C14.32,21.1 13.69,21.1 13.3,20.71L9.29,16.7C9.06,16.47 8.96,16.16 9,15.87V10.75L4.21,4.62C3.87,4.19 3.95,3.56 4.38,3.22C4.57,3.08 4.78,3 5,3V3H19V3C19.22,3 19.43,3.08 19.62,3.22C20.05,3.56 20.13,4.19 19.79,4.62L15,10.75V19.88M7.04,5L11,10.06V15.58L13,17.58V10.05L16.96,5H7.04Z"})))},Nn=ae(function(e){return{iconWrapper:{display:"inline-flex",maxHeight:"1em",justifyContent:"center",maxWidth:18,width:18,minWidth:18,alignItems:"center"},clearIcon:{background:e.palette.primary.main,color:e.palette.primary.contrastText,width:19,height:19,borderRadius:"3px",position:"absolute",left:0}}});function Wn(n){var t=n.canSort,l=n.isExtended,r=n.filterSet,o=n.isSortedDesc,a=n.isHoveredCell,i=n.hasClear,u=n.clearFilters,c=Nn(),s=B(function(e){return u&&u(e)},[u]);return t||l?W.createElement(e,{className:c.iconWrapper},!0===o?l&&r?W.createElement(Tn,{fontSize:"small",color:"primary"}):W.createElement(ee,{color:"primary"}):!1===o?l&&r?W.createElement(Dn,{fontSize:"small",color:"primary"}):W.createElement(ne,{color:"primary"}):l&&!r?W.createElement(zn,{fontSize:"small",color:"disabled"}):l&&r?W.createElement(W.Fragment,null,W.createElement(An,{fontSize:"small",color:"primary"}),i&&a&&W.createElement(te,{className:c.clearIcon,onClick:s})):W.createElement(le,{fontSize:"small",color:"disabled"})):null}var Mn=ae(function(e){return{wrapper:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:e.spacing(2)}}}),Bn=ae(function(e){return{wrapper:{transition:""+e.transitions.create(["max-width"],{duration:e.transitions.duration.complex})},iconSpacer:{marginRight:10},menuPaper:{padding:"10px 0",marginTop:4},menuItem:{paddingTop:14,paddingBottom:0,paddingRight:0,minWidth:150},overlay:{zIndex:1},itemDivider:{borderBottom:"rgba(0, 0, 0, 0.1) solid 1px",marginLeft:20,paddingRight:20,width:"100%",paddingBottom:14},noBorder:{borderBottom:0}}});function Vn(n){var t,l=n.selectedRowIds,r=n.selectedRows,o=n.actions,a=n.methods,i=n.translations,u=Bn(),c=G(function(){return r.length>0},[r]),s=G(function(){return c?"100%":0},[c]),d=q(!1),f=d[0],v=d[1],g=M(null);V(function(){c||v(!1)},[c]);var p=B(function(){v(function(e){return!e})},[v]),h=function(e){var n;null==(n=g.current)||n.contains(e.target)},b=function(e){"Tab"===e.key&&(e.preventDefault(),v(!1))},y=B(function(e){an({selectedRowIds:l,selectedRows:r,slug:e,methods:a})},[l,r,a]),E=o.map(function(n,t){var l;return W.createElement(C,{classes:{root:u.menuItem},onClick:function(e){h(e),y(n.slug)},key:n.slug},W.createElement(e,{className:ln(u.itemDivider,(l={},l[u.noBorder]=o.length===t+1,l))},n.label))});return W.createElement(e,{maxWidth:s,overflow:"hidden",className:u.wrapper},W.createElement(e,{width:"fit-content"},W.createElement(m,{ref:g,"aria-controls":f?"bulk-actions-list-grow":void 0,"aria-haspopup":"true",onClick:p,color:"primary",variant:"contained"},W.createElement(f?re:oe,{className:u.iconSpacer}),null!=(t=null==i?void 0:i.total)?t:"Actions"),W.createElement(x,{open:f,anchorEl:g.current,role:void 0,transition:!0,disablePortal:!0,className:u.overlay},function(e){return W.createElement(k,Object.assign({},e.TransitionProps,{style:{transformOrigin:"bottom"===e.placement?"left top":"left bottom"}}),W.createElement(S,{classes:{root:u.menuPaper}},W.createElement(F,{onClickAway:h},W.createElement(I,{autoFocusItem:f,id:"bulk-actions-list-grow",onKeyDown:b,disablePadding:!0},E))))})))}function Hn(e){var n,t=e.onGlobalFilter,l=e.translations,r=e.globalFilters,o=q(null==r?void 0:r.search),a=o[0],i=o[1],u=be(200),c=B(function(e){i(e.target.value);var n={key:"search",value:e.target.value};u(function(){return t(n)})},[t,u]);return W.createElement(O,{onChange:c,label:null!=(n=null==l?void 0:l.search)?n:"Search",InputProps:{endAdornment:W.createElement(K,null)},value:a,variant:"outlined"})}function Gn(e){return W.createElement(w,Object.assign({viewBox:"0 0 8 6",width:"8",height:"6"},e),W.createElement("svg",{width:"8",height:"6",viewBox:"0 0 8 6",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},W.createElement("path",{d:"M4.71074 5.28189C4.3194 5.67729 3.6806 5.67729 3.28926 5.28189L0.489829 2.45345C-0.135134 1.82201 0.31215 0.75 1.20057 0.75L6.79943 0.75C7.68785 0.75 8.13513 1.82201 7.51017 2.45345L4.71074 5.28189Z",fill:"black"})))}function Yn(e){return W.createElement(w,Object.assign({width:"24",height:"24",viewBox:"0 0 24 24"},e),W.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},W.createElement("path",{d:"M10.5 16.5L15.5 11.5L10.5 6.5",stroke:"black",strokeWidth:"2",strokeLinecap:"round"})))}var qn=function e(n,t){if(n)return Object.entries(n).reduce(function(n,l){var r,o=l[0],a=l[1];if(Array.isArray(a)&&(n[o]=a,void 0!==(null==(r=t[o])?void 0:r.id))){var i=a.filter(function(e){var n;return e.id===(null==(n=t[o])?void 0:n.id)});if(i.length>0)return pe({},n,e(i[0],t))}return n},{})};function Xn(t){var r,o,a=t.selectedKey,i=t.items,u=t.onMouseEnter,c=t.selectedId,s=t.translations,d=t.onClick,m=G(function(){return i.map(function(e){var t,l;return W.createElement(R,{button:!0,key:e.id,onMouseEnter:function(){var n,t;return u(a,e.id,null!=(n=null==s||null==(t=s.breadcrumbs)?void 0:t[e.name])?n:e.name)},onClick:function(){return d(a)},selected:c===e.id},W.createElement(n,{color:"textSecondary",variant:"body2"},null!=(t=null==s||null==(l=s.breadcrumbs)?void 0:l[e.name])?t:e.name))})},[i,d,u,c,a,s]);return W.createElement(P,{component:e,minWidth:"200px",item:!0},W.createElement(e,{paddingX:2,paddingY:1},W.createElement(n,{color:"textPrimary",variant:"subtitle2"},null!=(r=null==s||null==(o=s.breadcrumbs)?void 0:o[a])?r:a)),W.createElement(l,null),W.createElement(L,null,m))}var Jn=ae(function(){return{dropdownIconRoot:{width:13,height:8,marginLeft:7,cursor:"pointer"},seperator:{margin:"0 10px"},pointer:{cursor:"pointer"}}});function Qn(n){var l,r=n.data,o=n.translations,a=n.onGlobalFilter,i=n.globalFilters,u=Jn(),c=q({}),s=c[0],d=c[1],m=q({}),f=m[0],v=m[1],g=q(null!=(l=null==i?void 0:i.breadcrumb)?l:{}),p=g[0],b=g[1],y=M(null),E=q(null),w=E[0],C=E[1],x=G(function(){return!!w},[w]),k=G(function(){return x?"breadcrumb-popover":void 0},[x]),S=B(function(e){v(pe({},qn(e,s)))},[s]),F=B(function(e,n,t){var l=Object.keys(f),r=Object.entries(f),o=Object.keys(s),a=l.indexOf(e);if(0!==a){for(var i,u,c={},m=(null==(i=p[e])?void 0:i.id)===n?[e]:[],v={},g=0;g<a;g++){var h,b,y,E=r[g],w=E[0],C=E[1];m=(null==(h=p[w])?void 0:h.id)===s[w].id?[].concat(m,[w]):[],-1!==o.indexOf(w)&&(v=pe({},v,((b={})[w]={id:s[w].id,name:s[w].name},b))),-1===o.indexOf(w)&&(c=pe({},c,((y={})[w]={id:C[0].id,name:C[0].name},y)))}(null==(u=m)?void 0:u.length)-1===a&&(v=p),d(function(){var l;return pe({},v,c,((l={})[e]={id:n,name:t},l))})}else d(function(){var l,r;return(null==(l=p[e])?void 0:l.id)===n?p:((r={})[e]={id:n,name:t},r)})},[f,s,p]),I=B(function(e,n){var t=Object.entries(s),l=Object.keys(s).indexOf(e)+1;if(n)C(y.current),d(p);else{var r=t.slice(0,l),o=Object.fromEntries(r);a({key:"breadcrumb",value:o}),b(o),d(o),C(null)}},[p,a,s]),O=B(function(){C(null),d(p)},[p]);V(function(){return S(r)},[s,r]),V(function(){var e;(null==(e=Object.keys(s))?void 0:e.length)<1&&d(p)},[p,s]),V(function(){var e;return b(null!=(e=null==i?void 0:i.breadcrumb)?e:{})},[null==i?void 0:i.breadcrumb]);var R=G(function(){for(var e=[],n=0,t=Object.entries(f);n<t.length;n++){var l,r=t[n],a=r[0];e.push(W.createElement(Xn,{key:a,selectedKey:a,items:r[1],onMouseEnter:F,onClick:I,selectedId:null==(l=s[a])?void 0:l.id,translations:null!=o?o:{}}))}return e},[I,F,f,s,o]),L=G(function(){for(var e,n=Object.entries(p),l=n[n.length-1],r=[W.createElement(t,{color:"textPrimary",variant:"h6",onClick:function(){return I("",0===n.length)},key:"initial-table-breadcrumb",classes:{root:u.pointer}},null!=(e=null==o?void 0:o.all)?e:"All")],a=function(){var e=c[i],n=e[0],o=e[1];r.push(W.createElement(t,{color:"textPrimary",variant:"h6",key:o.id,onClick:function(){return I(n,n===l[0])},"aria-describedby":k,classes:{root:u.pointer}},o.name))},i=0,c=n;i<c.length;i++)a();return r},[p,u.pointer,I,k,null==o?void 0:o.all]);return W.createElement(e,{display:"flex",flexDirection:"column"},W.createElement(e,{display:"flex",alignItems:"center"},W.createElement(j,{separator:W.createElement(Yn,null),classes:{separator:u.seperator},ref:y},L),W.createElement(Gn,{classes:{root:u.dropdownIconRoot},onClick:function(){return I("",!0)}})),W.createElement(h,{id:k,open:x,anchorEl:w,onClose:O,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},PaperProps:{style:{maxHeight:"500px"}}},W.createElement(e,{padding:1,height:"100%"},W.createElement(P,{container:!0,height:"100%"},R))))}function Kn(n){var t=n.selectedRowIds,l=n.selectedRows,r=n.actions,o=n.methods,a=n.translations,i=n.onGlobalFilter,u=n.globalFilters,c=n.breadcrumbFilterData,s=Mn();return W.createElement(e,{className:s.wrapper},!!r&&W.createElement(Vn,{selectedRowIds:t,selectedRows:l,actions:r,methods:o,translations:a}),!!c&&W.createElement(Qn,{onGlobalFilter:i,translations:a,globalFilters:u,data:c}),W.createElement(Hn,{onGlobalFilter:i,translations:a,globalFilters:u}))}var Zn={paginator:jn,headFilter:Pn,headIndicator:Wn,globalActions:Kn},_n=ae(function(e){return{footer:{transition:e.transitions.create(["background","box-shadow"]),background:"rgba(0,0,0,0)",boxShadow:"none"},raised:{background:e.palette.background.paper,boxShadow:e.shadows[15]}}}),Un=["children","bodyRef"],$n="undefined"==typeof window?null:window;function et(e){var n=e.children,t=e.bodyRef,l=he(e,Un),r=_n(),o=M(null);return J(function(){var e=null,n=!1,l=0,a=function a(){var i,u,c,s,d=-((null!=(i=null==t||null==(u=t.current)?void 0:u.getBoundingClientRect().bottom)?i:0)-window.innerHeight+(null!=(c=null==o||null==(s=o.current)?void 0:s.offsetHeight)?c:0));o.current&&(o.current.style.transform=d>=0?"":"translateY("+d+"px)",d<0&&l>=0?o.current.classList.add(r.raised):d>=0&&l<0&&o.current.classList.remove(r.raised)),l=d,e=setTimeout(function(){e=null,n&&(n=!1,a())},1e3/120)},i=function(){null===e?a():n=!0};return null==$n||$n.addEventListener("scroll",i),null==$n||$n.addEventListener("resize",i),i(),function(){null==$n||$n.removeEventListener("scroll",i),null==$n||$n.removeEventListener("resize",i)}},[t,r.raised,n]),W.createElement(A,Object.assign({},l,{className:r.footer,ref:o}),n)}var nt=ae({totalsSelectCell:{paddingRight:0,"&:not(:last-child)":{borderRight:"none !important",boxShadow:"none !important"}}});function tt(e){var n=e.footerGroups,t=e.hasSelection,l=e.stickyTotals,r=e.classes,o=e.bodyRef,a=nt(),i=B(function(e){var n,t=null==(n=e.mpColumn)?void 0:n.width;return t?{minWidth:t,width:t,maxWidth:t}:void 0},[]),u=n.map(function(e){return W.createElement(y,Object.assign({},e.getFooterGroupProps()),t&&W.createElement(b,{className:ln(a.totalsSelectCell,null==r?void 0:r.totalsSelectCell)}),e.headers.map(function(e){return W.createElement(b,Object.assign({style:i(e)},e.getFooterProps()),null!=e.Footer&&e.render("Footer"))}))});return l?W.createElement(et,{bodyRef:o},u):W.createElement(A,null,u)}var lt=ae({selectCell:{maxWidth:42,paddingRight:0,"&:not(:last-child)":{borderRight:"none"},"tr:last-child &":{overflow:"hidden"}},cellCheckbox:{margin:-12}});function rt(n){var t=n.row,l=n.selection,r=n.toggleAllRowsSelected,o=n.classes,a=t.getToggleRowSelectedProps(),u=lt(),c=B(function(e){"single"===l&&r(!1),t.toggleRowSelected(e.target.checked)},[t,l,r]),s=B(function(e){return e.stopPropagation()},[]);return W.createElement(b,{className:ln(u.selectCell,null==o?void 0:o.selectCell),onClick:s},W.createElement(e,{display:"flex"},W.createElement(i,Object.assign({color:"primary"},a,{className:ln(u.cellCheckbox,null==o?void 0:o.selectCellCheckbox),onChange:c}))))}var ot=ae(function(e){return{renderedCell:{paddingTop:2,paddingBottom:2},highlightedPrimary:{background:"dark"===e.palette.mode?ve(e.palette.primary.main,.7):ge(e.palette.primary.main,.9)},highlightedSecondary:{background:"dark"===e.palette.mode?ve(e.palette.secondary.main,.7):ge(e.palette.secondary.main,.9)},highlightedError:{background:ge(e.palette.error.main,.25)},highlightedWarning:{background:ge(e.palette.warning.main,.25)},highlightedSuccess:{background:ge(e.palette.success.main,.25)},highlightedInactive:{background:e.palette.background.default,color:e.palette.text.secondary},cell:{color:"inherit"},pointer:{cursor:"pointer"}}});function at(e){var n,t,l,r,o,a,i,u,c,s=e.row,d=e.selection,m=e.classes,f=e.toggleAllRowsSelected,v=e.onRowClick,g=function(e,n){var t=e.original;return G(function(){return{inactive:!(null==n||!n.inactive||null==t||!t[null==n?void 0:n.inactive]),primary:!(null==n||!n.primary||null==t||!t[null==n?void 0:n.primary]),secondary:!(null==n||!n.secondary||null==t||!t[null==n?void 0:n.secondary]),error:!(null==n||!n.error||null==t||!t[null==n?void 0:n.error]),warning:!(null==n||!n.warning||null==t||!t[null==n?void 0:n.warning]),success:!(null==n||!n.success||null==t||!t[null==n?void 0:n.success])}},[t,n])}(s,e.highlights),p=g.inactive,h=g.primary,E=g.secondary,w=g.error,C=g.warning,x=g.success,k=ot(),S=B(function(){null==v||v(s)},[v,s]),F=B(function(e){var n,t=null==(n=e.column.mpColumn)?void 0:n.width;return t?{minWidth:t,width:t,maxWidth:t}:void 0},[]);return W.createElement(y,Object.assign({},s.getRowProps(),{className:ln((c={},c[null!=(n=null==m?void 0:m.row)?n:""]=null!=(null==m?void 0:m.row),c[null!=(t=null==m?void 0:m.highlightedInactive)?t:k.highlightedInactive]=p,c[null!=(l=null==m?void 0:m.highlightedPrimary)?l:k.highlightedPrimary]=h,c[null!=(r=null==m?void 0:m.highlightedSecondary)?r:k.highlightedSecondary]=E,c[null!=(o=null==m?void 0:m.highlightedError)?o:k.highlightedError]=w,c[null!=(a=null==m?void 0:m.highlightedWarning)?a:k.highlightedWarning]=C,c[null!=(i=null==m?void 0:m.highlightedSuccess)?i:k.highlightedSuccess]=x,c[k.pointer]=v,c[null!=(u=null==m?void 0:m.rowSelected)?u:""]=null!=(null==m?void 0:m.rowSelected)&&s.isSelected,c)),onClick:S}),null!=d&&W.createElement(rt,{classes:m,row:s,selection:d,toggleAllRowsSelected:f}),s.cells.map(function(e){var n;return W.createElement(b,Object.assign({},e.getCellProps(),{className:ln(k.cell,(n={},n[k.renderedCell]=null!=e.column.mpColumn.render,n)),style:F(e)}),e.render("Cell"))}))}var it=function(e,n){void 0===n&&(n=localStorage);try{var t=n.getItem(e);return null!=t&&""!==t?JSON.parse(null!=t?t:""):null}catch(e){return console.warn(e),null}},ut=function(e,n){return void 0===n&&(n=localStorage),[G(function(){var t=it(e,n);try{return JSON.parse(t)}catch(e){return t}},[e,n]),B(function(t){n.setItem(e,JSON.stringify(t))},[e,n])]},ct=function(e,n){var t=ut(e),l=t[0],r=t[1],o=q(null!=l?l:n),a=o[0];return V(function(){r(a)},[r,a]),o},st=[];function dt(n){var t,l=n.columns,r=n.data,o=void 0===r?st:r,a=n.loading,i=n.size,u=n.onGetData,c=n.dataCount,s=n.storageIdentifier,d=n.cacheFilters,m=n.cacheSorting,f=n.cacheGlobalFilter,v=n.filterVariant,g=void 0===v?"head":v,p=n.localPagination,h=void 0!==p&&p,b=n.localSorting,E=void 0!==b&&b,w=n.localFiltering,C=void 0!==w&&w,x=n.translations,k=n.pageSize,S=void 0===k?10:k,F=n.overridables,I=n.rowIdKey,O=n.selection,R=n.totals,P=n.stickyTotals,L=n.totalsData,j=n.bulkActions,A=n.bulkMethods,N=n.rowMethods,H=n.highlights,Y=n.clearColumnFilters,q=void 0!==Y&&Y,X=n.classes,J=n.asyncGetMethods,Q=n.locale,K=n.disablePagination,Z=n.disableSorting,_=n.onRowClick,U=n.enableGlobalActions,$=n.breadcrumbFilterData,ee=n.onEdit,ne=n.onRowsSelected,te=n.emptyChildren,le=n.loadingComponent,re=n.clearFiltersEvent,oe=n.resetSelectedRows,ae=void 0===oe||oe,ie=G(function(){return l.map(yn(F,Z))},[l,F,Z]),fe=function(e){return G(function(){return e.filter(function(e){var n;return"string"!=typeof e.filter&&(null==(n=e.filter)?void 0:n.remote)})},[e])}(l),ve=Sn(),ge=M(null),he=G(function(){return c&&!K?Math.ceil((null!=c?c:0)/S):void 0},[c,S,K]),be=ut(s+"-filters"),ye=be[0],we=be[1],Ce=ut(s+"-sorting"),xe=Ce[0],Se=Ce[1],Fe=ut(s+"-globalFilter"),Ie=Fe[1],Oe=ke(f?Fe[0]:void 0),Re=Oe[0],Pe=Oe[1].setGlobalFilters,Le=G(function(){return{pageIndex:0,filters:d&&null!=ye?ye:[],sortBy:m&&null!=xe?xe:[],pageSize:K?void 0:S}},[ye,d,xe,m,S,K]),je=function(e){return G(function(){return pe({},Zn,null!=e?e:{})},[e])}(F),Ae=En(o,l,Q),Te=Ae[0],De=Ae[1],ze=B(function(e){return null==e?void 0:e[I]},[I]),Ne=G(function(){return{columns:ie,data:Te,initialState:Le,manualPagination:!h,manualSortBy:!E,manualFilters:!C,autoResetFilters:!(C&&null!=fe&&fe.length),getRowId:ze,autoResetPage:!1,pageCount:he,autoResetSelectedRows:ae}},[ie,Te,Le,h,E,C,null==fe?void 0:fe.length,ze,he]),We=ue(Ne,ce,se,de,me),Me=We.getTableProps,Be=We.getTableBodyProps,Ve=We.headerGroups,He=We.footerGroups,Ge=We.page,Ye=We.prepareRow,qe=We.nextPage,Xe=We.previousPage,Je=We.gotoPage,Qe=We.getToggleAllRowsSelectedProps,Ke=We.toggleAllRowsSelected,Ze=We.selectedFlatRows,_e=We.setAllFilters,Ue=We.setFilter,$e=We.state,en=function(e){var n=e.state,t=e.visibleColumns,l=e.localFiltering,r=e.localSorting,o=e.rowIdKey,a=e.localPagination,i=e.globalFilters,u=e.remoteFiltersColumns,c=G(function(){return r?void 0:n.sortBy},[r,n]),s=G(function(){return a?void 0:n.pageSize},[n,a]),d=G(function(){return a?void 0:n.pageIndex},[n,a]),m=M(),f=G(function(){if(!l||null!=u&&u.length){if(l||null!=u&&u.length){var e,t,r=null==(e=n.filters)||null==(t=e.filter(function(e){return!(null==u||!u.find(function(n){return n.key===e.id}))}))?void 0:t.reduce(function(e,n){return e[n.id]=n.value,e},{});return o=m.current,a=r,[].concat(Object.keys(null!=o?o:{}),Object.keys(null!=a?a:{})).find(function(e){return(null==o?void 0:o[e])!==(null==a?void 0:a[e])})?(m.current=r,r):m.current}return n.filters}var o,a},[l,u,n]),v=G(function(){return t.map(function(e){return e.id})},[t]),g=G(function(){return i},[i]);return G(function(){var e={columns:[o].concat(v)};return null!=s&&null!=d&&(e.cursor=d*s),null!=s&&(e.limit=s),null!=c&&(e.sort=c.map(function(e){return{key:e.id,desc:e.desc}})),null!=f&&(e.filters=f),null!=g&&(e.globalFilters=g),e},[s,d,v,c,f,o,g])}({state:$e,visibleColumns:We.visibleColumns,localFiltering:C,localPagination:h,localSorting:E,rowIdKey:I,globalFilters:Re,remoteFiltersColumns:fe});V(function(){u(en)},[u,en]),V(function(){d&&we($e.filters)},[d,$e.filters,we]),V(function(){m&&Se($e.sortBy)},[m,$e.sortBy,Se]),V(function(){f&&Ie(Re)},[f,Ie,Re]),V(function(){null==ee||ee(Te)},[Te,ee]),V(function(){"function"==typeof ne&&ne(Ze)},[Ze,ne]),V(function(){null!=re&&(null!=re&&re.length||_e([]),null!=re&&re.length&&re.forEach(function(e){return Ue(e,[])}))},[re,_e,Ue]);var nn=G(function(){return{opacity:a?.5:void 0}},[a]),tn=G(function(){return ie.length+(O?1:0)},[ie,O]),rn=G(function(){return{totalsData:L,size:i,rowMethods:N,translations:x,locale:Q,asyncGetMethods:J,localPagination:h,localSorting:E,localFiltering:C,onInputChange:De}},[L,i,N,x,Q,J,h,E,C,De]);return W.createElement(Ee.Provider,{value:rn},W.createElement(e,{className:ve.parent},U&&W.createElement(je.globalActions,{selectedRows:Ze,selectedRowIds:$e.selectedRowIds,actions:j,methods:A,translations:x,onGlobalFilter:Pe,globalFilters:Re,breadcrumbFilterData:$}),W.createElement(e,{className:ln(ve.wrapper,null==X?void 0:X.tableWrapper,(t={},t[ve.stickyTotalsWrapper]=P,t))},W.createElement(T,Object.assign({size:i},Me(),{className:ln(ve.table,null==X?void 0:X.table)}),W.createElement(D,null,Ve.map(function(e){return W.createElement(y,Object.assign({},e.getHeaderGroupProps()),null!=O&&W.createElement(Rn,Object.assign({classes:X,selection:O},Qe())),e.headers.map(function(e){return W.createElement(kn,Object.assign({},e.getHeaderProps(),{overridables:je,variant:"head"===g?"extended":"simple",column:e,clearFiltersEvent:re,clearColumnFilters:q,classes:X}))}))})),W.createElement(z,Object.assign({},Be(),{style:nn,ref:ge}),Ge.length<1&&W.createElement(Fn,{cellCount:tn,loading:a,emptyChildren:te,loadingComponent:le}),Ge.map(function(e){return Ye(e),W.createElement(at,{key:e.getRowProps().key,row:e,highlights:H,classes:X,selection:O,toggleAllRowsSelected:Ke,onRowClick:_})})),!!R&&!!L&&W.createElement(tt,{footerGroups:He,hasSelection:null!=O,classes:X,bodyRef:ge,stickyTotals:P}))),!K&&W.createElement(je.paginator,{pageSize:$e.pageSize,itemCount:c,pageCount:he,pageIndex:$e.pageIndex,previousPage:Xe,nextPage:qe,gotoPage:Je,loading:a,translations:x,selectedCount:Ze.length})))}var mt=function(e){return{q1:[{key:"month",label:"January",value:"Jan, "+e},{key:"month",label:"February",value:"Feb, "+e},{key:"month",label:"March",value:"Mar, "+e}],q2:[{key:"month",label:"April",value:"Apr, "+e},{key:"month",label:"May",value:"May, "+e},{key:"month",label:"June",value:"Jun, "+e}],q3:[{key:"month",label:"July",value:"Jul, "+e},{key:"month",label:"August",value:"Aug, "+e},{key:"month",label:"September",value:"Sep, "+e}],q4:[{key:"month",label:"October",value:"Oct, "+e},{key:"month",label:"November",value:"Nov, "+e},{key:"month",label:"December",value:"Dec, "+e}]}},ft=function(e,n){return[{key:"quarter",label:"Q1",value:"Q1, "+e,items:n.q1},{key:"quarter",label:"Q2",value:"Q2, "+e,items:n.q2},{key:"quarter",label:"Q3",value:"Q3, "+e,items:n.q3},{key:"quarter",label:"Q4",value:"Q4, "+e,items:n.q4}]},vt=ae({endItem:{paddingTop:14,paddingBottom:12,paddingLeft:0,paddingRight:0,minWidth:130},paper:{maxWidth:340,maxHeight:580,overflowY:"auto",position:"relative",paddingTop:50,"-ms-overflow-style":"none",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},toggle:{height:44,maxWidth:195,display:"flex",alignItems:"center",cursor:"pointer",paddingLeft:14,paddingRight:38,position:"relative",color:"#69717D"},selected:{color:"black"},arrow:{position:"absolute",right:14,top:"50%",transform:"translateY(-50%)"},noPadding:{padding:0,alignItems:"center"},typography:{padding:"0 35px",width:"100%"},fullWidth:{width:"100%",position:"relative",paddingLeft:40},listItem:{background:"white",flexDirection:"row-reverse","&:hover":{background:"white","& > .MuiTypography-root":{fontWeight:"bold"}},border:"1px solid rgba(0, 0, 0, 0.1)",borderTop:0,borderLeft:0,"&:last-child":{borderBottom:0}},iconContainer:{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",left:20,top:"50%",transform:"translateY(-50%)","& .MuiSvgIcon-root":{width:12,height:9}},active:{fontWeight:"bold"},header:{display:"flex",alignItems:"center",justifyContent:"space-between",height:50,paddingLeft:40,paddingRight:25,borderBottom:"1px solid rgba(0, 0, 0, 0.1)",position:"fixed",top:0,width:"100%",zIndex:1,background:"white"},headerAction:{color:"#69717D",cursor:"pointer","&:hover":{color:"black",fontWeight:"bold"}}});function gt(e){return W.createElement(w,Object.assign({fontSize:"small",width:"12",height:"9",viewBox:"0 0 12 9",fill:"none"},e,{style:{fill:"none",width:12,height:9,overflow:"visible"}}),W.createElement("path",{d:"M1 4L4.5 7.5L11 1",stroke:"#4DA621",strokeWidth:"2"}))}function pt(e){var t=e.data,l=e.onClick,r=e.date,o=vt();return W.createElement(L,{disablePadding:!0},t.map(function(e){var t,a,i=r===e.value;return W.createElement(R,{classes:{root:ln((t={},t[o.listItem]=!0,t[o.noPadding]=!(null==e||!e.items),t[o.endItem]=!(null!=e&&e.items),t))},onClick:function(n){n.stopPropagation(),l(e.value,e.key)},button:!0,key:e.value,disableRipple:!0},W.createElement(n,{className:ln((a={},a[o.typography]=null==e?void 0:e.items,a[o.fullWidth]=!0,a[o.active]=i,a)),variant:"body2"},i&&W.createElement(gt,{className:o.iconContainer}),e.label),(null==e?void 0:e.items)&&W.createElement(pt,{data:e.items,onClick:l,date:r}))}))}function ht(t){var l,r,o,a=t.date,i=t.onSelectAll,u=t.translations,c=t.FromToFilter,s=t.filterProps,d=vt(),m=q(!1),f=m[0],v=m[1],g=B(function(){return v(!0)},[]);return f&&c?W.createElement(c,Object.assign({},s)):W.createElement(e,{className:d.header},!a&&W.createElement(gt,{className:d.iconContainer}),W.createElement(n,{onClick:i,classes:{root:d.headerAction},variant:"body2"},null!=(l=null==u?void 0:u.allTime)?l:"All time"),!!c&&W.createElement(n,{onClick:function(e){e.stopPropagation(),g()},classes:{root:d.headerAction},variant:"body2"},(null!=(r=null==u?void 0:u.from)?r:"From")+" - "+(null!=(o=null==u?void 0:u.to)?o:"To")))}function bt(e){return W.createElement(w,Object.assign({fontSize:"small",width:"10",height:"5",viewBox:"0 0 10 5"},e,{style:{fill:"none",width:10,height:5,overflow:"visible"}}),W.createElement("path",{d:"M1.5 1.5L6.5 6.5L11.5 1.5",stroke:"#69717D",strokeWidth:"1.5",strokeLinecap:"round"}))}function yt(e){return W.createElement(w,Object.assign({fontSize:"small",fill:"none",width:"10",height:"5",viewBox:"0 0 10 5"},e,{style:{fill:"none",width:10,height:5,overflow:"visible"}}),W.createElement("path",{d:"M11.5 6.5L6.5 1.5L1.5 6.5",stroke:"black",strokeWidth:"1.5",strokeLinecap:"round"}))}function Et(e){var n=e.anchorEl,t=vt(),l=G(function(){return null===n?bt:yt},[n]);return W.createElement(l,{className:t.arrow})}function wt(n){var t,l,r=n.items,o=n.placement,a=n.translations,i=n.FromToFilter,u=n.onGetData,c=vt(),s=function(){var e=ct("datepicker",null),n=e[0],t=e[1],l=ct("datepickerISO",null),r=l[0],o=l[1],a=ct("datepickerDateFrom",null),i=a[0],u=a[1],c=ct("datepickerDateTo",null),s=c[0],d=c[1],m=B(function(e){var n=Number(e.charAt(1)),t=e.substr(3),l=ie(t).quarter(n);return{dateFrom:l.startOf("quarter").toISOString(),dateTo:l.endOf("quarter").toISOString()}},[]),f=B(function(e){var n=ie(e);return{dateFrom:n.startOf("year").toISOString(),dateTo:n.endOf("year").toISOString()}},[]),v=B(function(e){var n=ie(e);return{dateFrom:n.startOf("month").toISOString(),dateTo:n.endOf("month").toISOString()}},[]),g=B(function(e){return!!e&&ie(e).format("YYYY MMM")},[]),p=B(function(e,n,l){if("dateFrom"===n){var r,a=g(e)+" - "+(null!=(r=g(s))?r:"");l({dateFrom:null!=i?i:"",dateTo:null!=s?s:""}),t(a)}else if("dateTo"===n){var c;l({dateFrom:null!=i?i:"",dateTo:null!=s?s:""});var p=null!=(c=g(i))?c:"",h=g(e);t(p+" - "+h)}else t(e);var b=null;switch(n){case"month":b=v(e);break;case"quarter":b=m(e);break;case"year":b=f(e);break;case"dateFrom":u(ie(e).toISOString());break;case"dateTo":d(ie(e).toISOString())}b&&(l(b),o(b))},[i,s,g,v,m,f,t,o,u,d]),h=B(function(){i&&s&&o({dateFrom:i,dateTo:s})},[i,s,o]);return{date:n,setDatepickerValues:p,dateFilter:r,clearSelected:B(function(e){t(null),o(null),e(null)},[t,o]),handleFilterClick:h,dateFrom:i,dateTo:s}}(),d=s.setDatepickerValues,m=s.clearSelected,f=s.date,v=s.handleFilterClick,g=s.dateFrom,p=s.dateTo,h=G(function(){for(var e=[];l>2015;){var n=l.toString(),t=mt(l),r=ft(l,t);e.push({key:"year",label:n,value:n,items:r}),l--}return e},[l=2021]),b=G(function(){return null!=r?r:h},[h,r]),y=q(null),E=y[0],w=y[1],C=G(function(){return!!E},[E]),k=G(function(){return C?"datepicker-popper":void 0},[C]),I=G(function(){return{onFilter:function(){v(),w(null)},onDateChange:d,dateFrom:g,dateTo:p,onGetData:u}},[g,p,v,u,d]),O=B(function(e){w(E?null:e.currentTarget)},[E]),R=B(function(e,n){w(null),d(e,n,u)},[u,d]),P=B(function(){m(u),w(null)},[m,u]);return W.createElement(F,{onClickAway:function(){return w(null)}},W.createElement(e,null,W.createElement(S,{className:ln((t={},t[c.toggle]=!0,t[c.selected]=!!f,t)),"aria-describedby":k,onClick:O},null!=f?f:"All time",W.createElement(Et,{anchorEl:E})),W.createElement(x,{id:k,open:C,anchorEl:E,style:{zIndex:1299},placement:null!=o?o:"bottom-end",transition:!0},function(e){return W.createElement(N,Object.assign({},e.TransitionProps,{timeout:350}),W.createElement(S,{elevation:4,className:c.paper},W.createElement(ht,{translations:a,date:f,onSelectAll:P,FromToFilter:i,filterProps:I}),W.createElement(pt,{date:f,data:b,onClick:R})))})))}export{Gn as BreadcrumbFilterDown,Yn as BreadcrumbSeparator,cn as Button,An as Filter,Tn as FilterArrowDown,Dn as FilterArrowUp,zn as FilterOutline,Ee as MetaContext,Me as MpColumnFormat,Be as MpColumnRender,wt as MpDatepicker,Re as MpFilterType,dt as MpTable,Qn as MpTableBreadcrumb,Vn as MpTableBulkActions,nn as MpTableFilter,Kn as MpTableGlobalActions,Hn as MpTableGlobalFilter,Pn as MpTableHeadFilter,Wn as MpTableHeadIndicator,jn as MpTablePaginator,dt as MpTableRow,We as NumberRange,Te as SearchSelect,Oe as Select,fn as StatusPill,dn as Switch,Le as Text,sn as Toggle,yn as convertMpToColumn,Ge as formatDate,Ye as formatDatetime,rn as getColumnAction,hn as getFooterValue,it as getFromStorage,qn as getNestedElementsMapReduce,Qe as getRawValue,an as handleBulkAction,on as handleRowAction,Xe as mapFormatter,He as toCurrency,Ve as toPercent,Se as useClearFilters,En as useDataFormatters,be as useDebounce,xe as useFilterItems,we as useFilterOptions,ke as useGlobalFilters,mn as useRendererOptions,ut as useStorage,ct as useStoredState,ye as useUnmounted};
//# sourceMappingURL=table.esm.js.map
