import{Box as e,Typography as t,Link as n,Divider as l,FormControl as r,FormGroup as o,FormControlLabel as a,Checkbox as i,CircularProgress as u,InputBase as c,IconButton as s,Icon as d,Button as m,ToggleButton as f,ToggleButtonGroup as v,Switch as g,Chip as p,Popover as h,TableCell as b,TableRow as y,Tooltip as E,SvgIcon as C,MenuItem as w,Popper as x,Grow as k,Paper as S,ClickAwayListener as F,MenuList as I,TextField as O,ListItem as R,Grid as P,List as L,Breadcrumbs as j,TableFooter as A,Table as T,TableHead as D,TableBody as z,Fade as N}from"@mui/material";import M,{useRef as W,useCallback as B,useEffect as V,createContext as H,useMemo as G,useContext as Y,useState as q,forwardRef as X,useLayoutEffect as J}from"react";import{TabUnselected as Q,Search as K,HourglassEmpty as Z,SortByAlpha as _,ChevronLeft as U,ChevronRight as $,ArrowDropDown as ee,ArrowDropUp as te,Clear as ne,ExpandMore as le,Close as re,Menu as oe}from"@mui/icons-material";import ae from"@mui/styles/makeStyles";import ie from"moment";import"moment/min/locales";import{useTable as ue,useFilters as ce,useSortBy as se,usePagination as de,useRowSelect as me}from"react-table";import fe from"@mui/material/styles/createPalette";import{darken as ve,lighten as ge}from"@mui/material/styles";function pe(){return pe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},pe.apply(this,arguments)}function he(e,t){if(null==e)return{};var n,l,r={},o=Object.keys(e);for(l=0;l<o.length;l++)t.indexOf(n=o[l])>=0||(r[n]=e[n]);return r}function be(e){void 0===e&&(e=500);var t=W(null),n=B(function(n){t.current&&clearTimeout(t.current),t.current=setTimeout.apply(void 0,[n,e].concat([].slice.call(arguments,1)))},[e]);return n}function ye(){var e=W(!1);return V(function(){return function(){e.current=!0}},[]),e}var Ee=H({});function Ce(e){var t=e.filter;return G(function(){return"string"==typeof t?{type:t}:t},[t])}var we=function(e,t,n,l,r,o,a){var i=Date.now();r.current=i,l(!0),e({search:t}).then(function(e){r.current!==i||o.current||(l(!1),Array.isArray(e)&&n([].concat(null!=a?a:[],null!=e?e:[])))})};function xe(e,t){var n=Y(Ee),l=n.asyncGetMethods,r=n.localFiltering,o=e.preFilteredRows,a=e.id,i=ye(),u=q(),c=u[0],s=u[1],d=q(!r&&null!=(null==t?void 0:t.asyncGet)&&"function"==typeof(null==l?void 0:l[t.asyncGet])),m=d[0],f=d[1],v=W(null),g=be(500),p=B(function(e){var n,u,c,d,m,p;if(r&&(null!=(n=null==t||null==(u=t.items)?void 0:u.length)?n:0)<1){var h=(m=o,p=a,m.map(function(e){return e.values[p]}).filter(function(e,t,n){return n.indexOf(e)===t})).filter(function(t){return null==e||""===e||-1!==(t+"").toLowerCase().indexOf(e.toLowerCase())}).map(function(e){return{value:e,label:e}});s(h)}else r&&(null!=(c=null==t||null==(d=t.items)?void 0:d.length)?c:0)>0?s(null==t?void 0:t.items):null!=(null==t?void 0:t.asyncGet)&&"function"==typeof(null==l?void 0:l[t.asyncGet])&&g(we,null==l?void 0:l[t.asyncGet],e,s,f,v,i,t.items)},[l,null==t?void 0:t.asyncGet,null==t?void 0:t.items,a,f,r,o,g,i,v]);return G(function(){return{items:c,getItems:p,loading:m}},[c,p,m])}var ke=function(e){var t=q(e),n=t[0],l=t[1],r=B(function(e){l(function(t){var n,l;return t?pe({},t,((n={})[e.key]=e.value,n)):((l={})[e.key]=e.value,l)})},[]);return G(function(){return[n,{setGlobalFilters:r}]},[n,r])};function Se(){var e=q(void 0),t=e[1];return{clearFiltersEvent:e[0],clearFilters:B(function(e){return t(null!=e?e:[])},[])}}var Fe=ae(function(){return{emptyAnchor:{cursor:"pointer",userSelect:"none"}}}),Ie=[];function Oe(c){var s,d,m,f,v=c.column,g=c.value,p=void 0===g?Ie:g,h=c.setValue,b=c.doFiltering,y=v.mpColumn,E=Y(Ee).translations,C=Fe(),w=Ce(y),x=xe(v,w),k=x.loading,S=x.items,F=x.getItems,I=B(function(e){e.target.checked?null!=p&&p.includes(e.target.name)||h([].concat(null!=p?p:[],[e.target.name])):h(null==p?void 0:p.filter(function(t){return t!==e.target.name}))},[h,p]),O=B(function(e){e.preventDefault(),b(null)},[b]);return V(function(){F()},[F]),M.createElement(e,{display:"flex",flexDirection:"column"},M.createElement(e,{paddingLeft:2,display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},M.createElement(t,{variant:"subtitle2"},null!=(s=null==w?void 0:w.label)?s:""),M.createElement(e,{paddingX:2,paddingY:1.5},M.createElement(n,{color:"textSecondary",onClick:O,className:C.emptyAnchor},null!=(d=null==E?void 0:E.clear)?d:"Clear"))),M.createElement(l,null),!k&&(null!=(m=null==S?void 0:S.length)?m:0)>0&&M.createElement(e,{paddingX:2,paddingY:1,maxHeight:300,overflow:"auto"},M.createElement(r,{component:"fieldset",color:"primary"},M.createElement(o,null,null==S?void 0:S.map(function(e,t){var n;return M.createElement(a,{key:t,onChange:I,name:e.value+"",control:M.createElement(i,{color:"primary",checked:null!=(n=null==p?void 0:p.includes(e.value+""))&&n}),label:e.label})})))),k&&M.createElement(e,{padding:2,display:"flex",justifyContent:"center",alignItems:"center",minHeight:100},M.createElement(u,null)),!k&&(null!=(f=null==S?void 0:S.length)?f:0)<1&&M.createElement(e,{padding:2,display:"flex",justifyContent:"center",alignItems:"center",minHeight:100},M.createElement(Q,{fontSize:"large",color:"disabled"})))}var Re,Pe=ae(function(){return{naked:{width:"100%"},emptyAnchor:{cursor:"pointer",userSelect:"none"}}});function Le(r){var o,a,i,u=r.value,s=r.setValue,d=r.doFiltering,m=r.column.mpColumn,f=Pe(),v=Ce(m),g=Y(Ee).translations,p=B(function(e){s(e.target.value)},[s]),h=B(function(e){e.preventDefault(),d(null)},[d]);return M.createElement(e,{display:"flex",flexDirection:"column"},M.createElement(e,{paddingLeft:2,display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},M.createElement(t,{variant:"subtitle2"},null!=(o=null==v?void 0:v.label)?o:""),M.createElement(e,{paddingX:2,paddingY:1.5},M.createElement(n,{color:"textSecondary",onClick:h,className:f.emptyAnchor},null!=(a=null==g?void 0:g.clear)?a:"Clear"))),M.createElement(l,null),M.createElement(e,{paddingY:1,paddingX:2},M.createElement(c,{value:null!=u?u:"",onChange:p,placeholder:null!=(i=null==g?void 0:g.search)?i:"Search",autoFocus:!0,className:f.naked,endAdornment:null!=(null==v?void 0:v.unitLabel)&&M.createElement(t,{color:"textSecondary"},null==v?void 0:v.unitLabel)})))}!function(e){e.text="text",e.select="select",e.searchSelect="searchSelect",e.numberRange="numberRange"}(Re||(Re={}));var je=ae(function(e){return{naked:{width:"100%"},emptyAnchor:{cursor:"pointer",userSelect:"none"},searchIcon:{marginRight:e.spacing(1)}}}),Ae=[];function Te(s){var d,m,f,v,g,p=s.column,h=s.value,b=void 0===h?Ae:h,y=s.setValue,E=s.doFiltering,C=p.mpColumn,w=Y(Ee).translations,x=q(),k=x[0],S=x[1],F=je(),I=Ce(C),O=xe(p,I),R=O.loading,P=O.items,L=O.getItems,j=B(function(e){e.target.checked?null!=b&&b.includes(e.target.name)||y([].concat(null!=b?b:[],[e.target.name])):y(null==b?void 0:b.filter(function(t){return t!==e.target.name}))},[y,b]),A=B(function(e){S(e.target.value)},[S]),T=B(function(e){e.preventDefault(),E(null)},[E]);return V(function(){L(k)},[L,k]),M.createElement(e,{display:"flex",flexDirection:"column"},M.createElement(e,{paddingLeft:2,display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},M.createElement(t,{variant:"subtitle2"},null!=(d=null==I?void 0:I.label)?d:""),M.createElement(e,{paddingX:2,paddingY:1.5},M.createElement(n,{color:"textSecondary",onClick:T,className:F.emptyAnchor},null!=(m=null==w?void 0:w.clear)?m:"Clear"))),M.createElement(l,null),M.createElement(e,{paddingY:1,paddingX:2},M.createElement(c,{startAdornment:M.createElement(K,{className:F.searchIcon,color:"action"}),value:null!=k?k:"",onChange:A,placeholder:null!=(f=null==w?void 0:w.search)?f:"Search",autoFocus:!0,className:F.naked})),M.createElement(l,null),!R&&(null!=(v=null==P?void 0:P.length)?v:0)>0&&M.createElement(e,{paddingX:2,paddingY:1,maxHeight:300,overflow:"auto"},M.createElement(r,{component:"fieldset",color:"primary"},M.createElement(o,null,null==P?void 0:P.map(function(e,t){var n;return M.createElement(a,{key:t,onChange:j,name:e.value+"",control:M.createElement(i,{color:"primary",checked:null!=(n=null==b?void 0:b.includes(e.value+""))&&n}),label:e.label})})))),R&&M.createElement(e,{padding:2,display:"flex",justifyContent:"center",alignItems:"center",minHeight:100},M.createElement(u,null)),!R&&(null!=(g=null==P?void 0:P.length)?g:0)<1&&M.createElement(e,{padding:2,display:"flex",justifyContent:"center",alignItems:"center",minHeight:100},M.createElement(Q,{fontSize:"large",color:"disabled"})))}var De=ae(function(){return{naked:{width:"100%"},emptyAnchor:{cursor:"pointer",userSelect:"none"}}}),ze=["onChange","inputRef"],Ne=X(function(e,t){var n=e.onChange,l=e.inputRef,r=he(e,ze),o=B(function(e){var t=e.target.value;t=(t=(t=t.replace(/-/g,function(e,t){return t>0?"":e})).replace(/[.,]/g,function(e,t,n){var l,r;return n.indexOf(null!=(l=null==(r=n.match(/[.,]/g))?void 0:r[0])?l:".")!==t||0===t?"":e})).replace(/[^\d.,-]/g,""),e.target.value=t,"function"==typeof n&&n(e)},[n]);return M.createElement("input",Object.assign({ref:null!=t?t:l},r,{onChange:o,inputMode:"decimal"}))});function Me(r){var o,a,i,u,s,d,m=r.value,f=r.setValue,v=r.doFiltering,g=r.column.mpColumn,p=De(),h=Ce(g),b=Y(Ee).translations,y=B(function(e){var t=e.target.value;f(null!=t&&""!==t?function(e){return pe({},null!=e?e:{},{min:t})}:function(e){return null!=(null==e?void 0:e.max)&&""!==(null==e?void 0:e.max)?{max:null==e?void 0:e.max}:null})},[f]),E=B(function(e){var t=e.target.value;f(null!=t&&""!==t?function(e){return pe({},null!=e?e:{},{max:t})}:function(e){return null!=(null==e?void 0:e.min)&&""!==(null==e?void 0:e.min)?{min:null==e?void 0:e.min}:null})},[f]),C=B(function(e){e.preventDefault(),v(null)},[v]);return M.createElement(e,{display:"flex",flexDirection:"column"},M.createElement(e,{paddingLeft:2,display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},M.createElement(t,{variant:"subtitle2"},null!=(o=null==h?void 0:h.label)?o:""),M.createElement(e,{paddingX:2,paddingY:1.5},M.createElement(n,{color:"textSecondary",onClick:C,className:p.emptyAnchor},null!=(a=null==b?void 0:b.clear)?a:"Clear"))),M.createElement(l,null),M.createElement(e,{paddingY:1,paddingX:2},M.createElement(c,{value:null!=(i=null==m?void 0:m.min)?i:"",onChange:y,placeholder:null!=(u=null==b?void 0:b.from)?u:"From",autoFocus:!0,className:p.naked,inputComponent:Ne,endAdornment:null!=(null==h?void 0:h.unitLabel)&&M.createElement(t,{color:"textSecondary"},null==h?void 0:h.unitLabel)})),M.createElement(l,null),M.createElement(e,{paddingY:1,paddingX:2},M.createElement(c,{value:null!=(s=null==m?void 0:m.max)?s:"",onChange:E,placeholder:null!=(d=null==b?void 0:b.to)?d:"To",className:p.naked,inputComponent:Ne,endAdornment:null!=(null==h?void 0:h.unitLabel)&&M.createElement(t,{color:"textSecondary"},null==h?void 0:h.unitLabel)})))}var We,Be,Ve=function(e){var t=e.value,n="string"==typeof t?parseInt(t,10):t;return void 0!==t?Math.round(100*n)+"%":null},He=function(e){var t,n=e.value,l=e.options;return null!=(t=null==n?void 0:n.toLocaleString(e.locale,null!=l&&l.modifier?{style:"currency",currency:null==l?void 0:l.modifier}:void 0))?t:null},Ge=function(e){var t=e.value,n=e.locale;ie.locale(void 0===n?"en":n);var l=new Date(t);return ie(l).format("L")},Ye=function(e){var t=e.value,n=e.locale,l=void 0===n?"en":n,r=e.options;ie.locale(l);var o=new Date(t),a=ie(o);return Ge({value:t,locale:l,options:r})+" "+a.format("LT")};!function(e){e.currency="currency",e.percent="percent",e.date="date",e.dateTime="dateTime",e.map="map"}(We||(We={})),function(e){e.statusPill="statusPill",e.toggle="toggle",e.switch="switch",e.button="button",e.input="input"}(Be||(Be={}));var qe,Xe=function(e){var t,n,l=e.value,r=e.options;return null!=(t=null==r||null==(n=r.valueMap)?void 0:n[l])?t:l};function Je(e){return"__raw_"+e}function Qe(e,t){var n;return null!=(n=e[Je(t)])?n:e[t]}var Ke,Ze,_e=((qe={})[We.currency]=He,qe[We.percent]=Ve,qe[We.date]=Ge,qe[We.dateTime]=Ye,qe[We.map]=Xe,qe),Ue=function(e,t,n){return!Array.isArray(n)||n.length<1?e:e.filter(function(e){return!!t.find(function(t){return n.includes(Qe(e.original,t))})})},$e=((Ke={})[Re.select]=Oe,Ke[Re.searchSelect]=Te,Ke[Re.text]=Le,Ke[Re.numberRange]=Me,Ke),et=((Ze={})[Re.select]=Ue,Ze[Re.searchSelect]=Ue,Ze[Re.text]="text",Ze[Re.numberRange]=function(e,t,n){return null==n||"object"!=typeof n?e:e.filter(function(e){return!!t.find(function(t){return!(null!=(null==n?void 0:n.min)&&""!==(null==n?void 0:n.min)&&+Qe(e.original,t)<+(null==n?void 0:n.min)||null!=(null==n?void 0:n.max)&&""!==(null==n?void 0:n.max)&&+Qe(e.original,t)>+(null==n?void 0:n.max))})})},Ze);function tt(t){var n=t.column,l=t.value,r=t.setValue,o=t.overridables,a=t.doFiltering,i=G(function(){var e,t,l,r;return"string"==typeof(null==n||null==(e=n.mpColumn)?void 0:e.filter)?null==n||null==(t=n.mpColumn)?void 0:t.filter:null==n||null==(l=n.mpColumn)||null==(r=l.filter)?void 0:r.type},[n]),u=G(function(){var e,t;return i?null!=(e=null==o||null==(t=o.filters)?void 0:t[i])?e:$e[i]:null},[i,o]);return u?M.createElement(e,null,M.createElement(u,{column:n,value:l,setValue:r,doFiltering:a})):null}function nt(e){var t,n,l="";if("string"==typeof e||"number"==typeof e)l+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=nt(e[t]))&&(l&&(l+=" "),l+=n);else for(t in e)e[t]&&(l&&(l+=" "),l+=t);return l}function lt(){for(var e,t,n=0,l="";n<arguments.length;)(e=arguments[n++])&&(t=nt(e))&&(l&&(l+=" "),l+=t);return l}var rt=function(e){var t,n=null==e||null==(t=e.mpColumn)?void 0:t.action;if(!n)throw new Error("Missing action property from column.");return n},ot=function(e){var t=e.row,n=e.rowId,l=e.slug,r=e.value,o=e.methods;if(!o)throw new Error("No row methods provided. Please provide them in order to use them.");var a=o[l],i={value:r,row:t,rowId:n};if(!a)throw new Error("A method for action '"+l+"' does not exist. Either add it or remove this action.");a(i)},at=function(e){var t=e.slug,n=e.methods[t],l={selectedRows:e.selectedRows,selectedIds:e.selectedRowIds};if(!n)throw new Error("A method for action '"+t+"' does not exist. Either add it or remove this action.");n(l)},it=ae(function(){return{small:{maxHeight:28}}});function ut(e){var t=it(),n=e.column,l=e.row,r=Y(Ee),o=r.rowMethods,a=r.size,i=G(function(){return rt(n)},[n]),u=i.color,c=i.icon,f=i.label,v=i.variant,g=B(function(e){e.stopPropagation(),ot({methods:o,slug:i.slug,row:l,rowId:l.id})},[l,i,o]);return c?M.createElement(s,{color:u,onClick:g,size:"large"},M.createElement(d,null,"icon")):M.createElement(m,{size:a,color:u,variant:v,onClick:g,classes:{sizeSmall:t.small}},f)}function ct(e){var t=e.column,n=e.row,l=e.value,r=Y(Ee),o=r.rowMethods,a=r.size,i=G(function(){return rt(t)},[t]),u=i.items,c=q(null!=l?l:i.defaultValue),s=c[0],m=c[1],g=B(function(e,t){e.stopPropagation(),ot({methods:o,slug:i.slug,value:t,row:n,rowId:n.id}),m(t)},[m,i,n,o]),p=G(function(){return(u||[]).map(function(e){var t=e.value,n=e.icon,l=e.label,r=e.color,o=e.textColor,i=n?M.createElement(d,null,n):l,u="small"===a?24:void 0;return M.createElement(f,{key:t,size:a,value:t,"aria-label":"toggle-action",style:s===t?{color:o,backgroundColor:r,maxHeight:u}:{maxHeight:u}},i)})},[a,u,s]);return M.createElement(v,{value:s,exclusive:!0,onChange:g,"aria-label":"row-toggle"},p)}function st(n){var l=n.column,r=n.row,o=n.value,a=Y(Ee),i=a.rowMethods,u=a.size,c=G(function(){return rt(l)},[l]),s=c.iconLeft,m=c.iconRight,f=c.labelLeft,v=c.labelRight,p=c.color,h=s?M.createElement(d,null,s):f,b=m?M.createElement(d,null,m):v,y=q(o),E=y[0],C=y[1],w=B(function(e){e.stopPropagation();var t=e.target.checked;C(t),ot({methods:i,slug:c.slug,row:r,rowId:r.id,value:t})},[i,r,c]),x=B(function(e){return e.stopPropagation()},[]);return M.createElement(e,{display:"flex",alignItems:"center",justifyContent:"center",onClick:x},M.createElement(t,{component:"span"},h),M.createElement(g,{size:u,onChange:w,color:p,checked:E}),M.createElement(t,{component:"span"},b))}function dt(e){var t=e.cell,n=t.column.mpColumn,l=G(function(){return"string"==typeof(null==n?void 0:n.render)?{type:n.render}:null==n?void 0:n.render},[null==n?void 0:n.render]),r=G(function(){var e,n,r;return null!=(e=null==l||null==(n=l.styleMap)?void 0:n[null!=(r=t.value)?r:""])?e:void 0},[l,t]),o=G(function(){var e,n,r;return null!=(e=null==l||null==(n=l.valueMap)?void 0:n[null!=(r=t.value)?r:""])?e:t.value},[l,t]),a=G(function(){return t.column.id},[t.column.id]),i=G(function(){return t.row.index},[t.row.index]),u=G(function(){return null==n?void 0:n.inputProps},[null==n?void 0:n.inputProps]);return{column:n,renderOptions:l,style:r,value:o,columnId:a,columnIndex:i,inputProps:u}}function mt(t){var n=dt(t),l=n.style,r=n.value,o=Y(Ee).size,a=G(function(){return{backgroundColor:null!=l?l+"":void 0,color:null!=l?fe({primary:{main:l+""}}).getContrastText(l+""):void 0}},[l]);return M.createElement(e,{textAlign:"center"},M.createElement(p,{size:o,style:a,label:r}))}var ft,vt=ae(function(){return{root:{padding:0,maxHeight:29,width:"100%",fontSize:"inherit"},input:{height:"auto",maxHeight:29,padding:0,fontSize:"inherit"}}}),gt=((ft={})[Be.statusPill]=mt,ft[Be.button]=ut,ft[Be.toggle]=ct,ft[Be.switch]=st,ft[Be.input]=function(e){var t=vt(),n=be(),l=dt(e),r=l.value,o=l.inputProps,a=l.columnId,i=l.columnIndex,u=Y(Ee).onInputChange,s=q(r),d=s[0],m=s[1];V(function(){return m(r)},[r]);var f=B(function(e){return e.stopPropagation()},[]),v=B(function(e){m(e.target.value),n(function(){return null==u?void 0:u(e,i,a)})},[a,i,n,u]);return M.createElement(c,Object.assign({onChange:v,value:d,classes:{root:t.root,input:t.input},onClick:f},o))},ft),pt=function(e){return function(){var t,n=Y(Ee).totalsData;return null!=(t=null==n?void 0:n[e])?t:null}},ht=function(e){return e},bt=function(e,t){return function(n){var l,r,o,a={Header:null!=(l=n.label)?l:n.key,accessor:n.key,mpColumn:n,disableSortBy:t||!1===n.sort};if(null!=(null==n?void 0:n.filter)&&(null==n||null==(r=n.filter)||!r.remote)){var i,u,c="string"==typeof n.filter?n.filter:n.filter.type;a.filter=null!=(i=null==e||null==(u=e.filterFunctions)?void 0:u[c])?i:et[c]}if(null!=(null==n?void 0:n.filter)&&!0===(null==n||null==(o=n.filter)?void 0:o.remote)&&(a.filter=ht),!1!==n.totals&&(a.Footer=pt(n.key)),null!=n.render){var s,d,m="string"==typeof n.render?n.render:n.render.type;a.Cell=null!=(s=null==e||null==(d=e.renderers)?void 0:d[m])?s:gt[m]}return a}};function yt(e,t,n){var l=q([]),r=l[0],o=l[1],a=G(function(){var l=t.filter(function(e){return e.format});return e.map(function(e){return l.reduce(function(t,l){var r,o=l.key,a=l.format;return t[Je(o)]=e[Je(o)],t[o]=_e[null!=(r=null==a?void 0:a.type)?r:a]({value:e[o],locale:n,options:"string"==typeof a?void 0:a}),t},pe({},e))})},[e,t,n]);return V(function(){return o(a)},[a]),[r,B(function(e,t,n){var l=e.target.value;o(function(e){var r=[].concat(e);return r[t][n]=l,r})},[])]}var Et=ae(function(e){var t,n;return{wrapper:{display:"inline-flex",overflow:"hidden",alignItems:"center",userSelect:"none",whiteSpace:"pre",cursor:"pointer",position:"relative"},disabledSort:{color:null==e||null==(t=e.palette)||null==(n=t.text)?void 0:n.secondary,cursor:"default"},fixedWidth:{minWidth:function(e){return e.fixedColumnWidth},width:function(e){return e.fixedColumnWidth},maxWidth:function(e){return e.fixedColumnWidth}},hoveredCellWithFilters:{background:"dark"===e.palette.mode?ve(e.palette.background.default,.1):ge(e.palette.primary.light,.9)}}});function Ct(e){var t=e.column,n=e.anchorEl,l=e.canSort,r=e.onClose,o=e.isSortedDesc,a=e.doSorting,i=e.overridables,u=e.clearFiltersEvent,c=e.value,s=e.setValue,d=B(function(e){void 0===e&&(e=c),t.setFilter(e),s(e),r()},[c,t,r]);return V(function(){null!=u&&(null==u||!u.length||null!=u&&u.includes(t.id))&&s(null)},[u]),M.createElement(h,{open:!!n,anchorEl:null!=n?n:void 0,onClose:r,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},M.createElement(i.headFilter,{canSort:l,isSortedDesc:o,overridables:i,doSorting:a,doFiltering:d,value:c,setValue:s,column:t}))}var wt=["onClick","title"];function xt(e){var t,n,l,r,o=e.column,a=e.variant,i=void 0===a?"simple":a,u=e.overridables,c=e.clearFiltersEvent,s=e.clearColumnFilters,d=e.classes,m=o.getSortByToggleProps(),f=m.onClick,v=he(m,wt),g=o.isSortedDesc,p=Et({fixedColumnWidth:(null==o?void 0:o.mpColumn).width}),h=W(null),y=q(!1),E=y[0],C=y[1],w=q(o.filterValue),x=w[0],k=w[1],S=G(function(){var e;return!(null==(e=o.mpColumn)||!e.filter)},[o]),F=G(function(){var e,t;return!(null==(e=o.mpColumn)||!e.width||null==(t=o.mpColumn)||!t.fixedHeadWidth)},[o]),I=G(function(){return"extended"===i&&S},[i,S]),O=q(null),R=O[0],P=O[1],L=B(function(){return P(null)},[P]),j=B(function(e){I?P(h.current):o.canSort&&f(e)},[f,I,o]),A=B(function(e){e.stopPropagation(),o.setFilter(null),k(null)},[o]),T=B(function(){return C(!0)},[]),D=B(function(){return C(!1)},[]),z=null!=o.filterValue&&""!==o.filterValue&&(!Array.isArray(o.filterValue)||(null==(t=o.filterValue)?void 0:t.length)>0),N=G(function(){return z&&E&&s},[z,E,s]);return M.createElement(M.Fragment,null,M.createElement(b,Object.assign({className:lt((l={},l[p.fixedWidth]=F,l[null!=(n=null==d?void 0:d.hoveredCellWithFilters)?n:p.hoveredCellWithFilters]=N,l)),onClick:j,onMouseEnter:T,onMouseLeave:D},v),M.createElement("div",{ref:h,className:lt(p.wrapper,(r={},r[p.disabledSort]=!o.canSort&&!I,r))},o.render("Header")," ",M.createElement(u.headIndicator,{canSort:o.canSort,isExtended:I,filterSet:z,isSortedDesc:g,isHoveredCell:E,hasClear:s,clearFilters:A}))),I,M.createElement(Ct,{anchorEl:R,overridables:u,onClose:L,canSort:o.canSort,isSortedDesc:g,doSorting:f,column:o,clearFiltersEvent:c,value:x,setValue:k}))}var kt=ae({parent:{borderRadius:"inherit"},wrapper:{maxWidth:"100%",overflowX:"auto",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},table:{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit",overflow:"hidden"},stickyTotalsWrapper:{position:"relative",overflow:"auto",zIndex:1},renderedCell:{paddingTop:2,paddingBottom:2}});function St(t){var n=t.cellCount,l=t.loading,r=t.emptyChildren,o=t.loadingComponent,a=G(function(){return l?o||M.createElement(Z,{fontSize:"large",color:"disabled"}):null},[l,o]),i=G(function(){return r?M.createElement(M.Fragment,null,a,!l&&r):M.createElement(e,{height:200,display:"flex",alignItems:"center",justifyContent:"center"},a,!l&&M.createElement(Q,{fontSize:"large",color:"disabled"}))},[l,a,r]);return M.createElement(y,null,M.createElement(b,{colSpan:n},i))}var Ft=ae({headSelectCell:{maxWidth:42,paddingRight:0,"&:not(:last-child)":{borderRight:"none"}},cellCheckbox:{margin:-12}}),It=["classes","selection","onChange"];function Ot(t){var n=t.classes,l=t.selection,r=t.onChange,o=he(t,It),a=Ft(),u=B(function(e){e.stopPropagation(),null==r||r(e)},[r]),c=B(function(e){return e.stopPropagation()},[]);return"single"===l?M.createElement(b,null):M.createElement(b,{className:lt(a.headSelectCell,null==n?void 0:n.headSelectCell),onClick:c},M.createElement(e,{display:"flex"},M.createElement(i,Object.assign({color:"primary"},o,{className:lt(a.cellCheckbox,null==n?void 0:n.headSelectCellCheckbox),onChange:u}))))}function Rt(t){var n=t.column,r=t.canSort,o=t.isSortedDesc,a=t.doSorting,i=t.doFiltering,u=t.value,c=t.setValue,s=t.overridables,d=B(function(e){e.preventDefault(),i()},[i]);return M.createElement("form",{onSubmit:d},M.createElement(e,{minWidth:150},M.createElement(tt,{column:n,value:u,setValue:c,doFiltering:i,overridables:s}),M.createElement(l,null),M.createElement(e,{display:"flex",justifyContent:"center",alignItems:"center"},r&&M.createElement(e,{paddingX:2,display:"flex",justifyContent:"center",alignItems:"center",style:{cursor:"pointer"},onClick:a},M.createElement(_,{fontSize:"small",color:null==o?"action":"primary"})),M.createElement(e,{flexGrow:1}),M.createElement(m,{color:"primary",type:"submit"},"Filter"))))}var Pt=ae({wrapper:{display:"flex",width:"100%",position:"relative",minHeight:48,alignItems:"center",justifyContent:"flex-end"},spacer:{flexGrow:1}});function Lt(n){var l,r,o,a=n.pageIndex,i=n.previousPage,c=n.itemCount,d=n.nextPage,m=n.pageCount,f=n.pageSize,v=n.loading,g=n.translations,p=n.selectedCount,h=Pt(),b=G(function(){return a>0},[a]),y=G(function(){return null==m||a<m-1},[a,m]),C=G(function(){var e,t;return[null!=c?c+" "+(null!=(e=null==g?void 0:g.total)?e:"total"):null,null!=p&&p>0?p+" "+(null!=(t=null==g?void 0:g.selected)?t:"selected"):null].filter(function(e){return null!=e}).join(" • ")},[c,p,g]);return M.createElement(e,{paddingY:1,paddingX:2,className:lt(h.wrapper)},M.createElement(t,{color:"textSecondary",variant:"body2"},C),v&&M.createElement(e,{paddingX:1,display:"flex",alignItems:"center",justifyContent:"center"},M.createElement(u,{size:"1.5em","data-qa":"TableProgress"})),M.createElement(e,{className:h.spacer}),M.createElement(e,{paddingX:1},M.createElement(t,{color:"textSecondary",variant:"body2"},a*f+1," - ",(a+1)*f,null!=m?" "+(null!=(l=null==g?void 0:g.of)?l:"of")+" "+m:"")),M.createElement(E,{title:null!=(r=null==g?void 0:g.previousPage)?r:"Previous"},M.createElement("div",null,M.createElement(s,{size:"small",onClick:i,disabled:!b},M.createElement(U,null)))),M.createElement(E,{title:null!=(o=null==g?void 0:g.nextPage)?o:"Next"},M.createElement("div",null,M.createElement(s,{size:"small",onClick:d,disabled:!y},M.createElement($,null)))))}var jt=function(e){return M.createElement(C,Object.assign({viewBox:"0 0 24 24"},e),M.createElement("svg",{viewBox:"0 0 24 24"},M.createElement("path",{fill:"currentColor",d:"M14,12V19.88C14.04,20.18 13.94,20.5 13.71,20.71C13.32,21.1 12.69,21.1 12.3,20.71L10.29,18.7C10.06,18.47 9.96,18.16 10,17.87V12H9.97L4.21,4.62C3.87,4.19 3.95,3.56 4.38,3.22C4.57,3.08 4.78,3 5,3V3H19V3C19.22,3 19.43,3.08 19.62,3.22C20.05,3.56 20.13,4.19 19.79,4.62L14.03,12H14Z"})))},At=function(e){return M.createElement(C,Object.assign({viewBox:"0 0 24 24"},e),M.createElement("svg",{viewBox:"0 0 24 24"},M.createElement("path",{fill:"currentColor",d:"M11 11L16.76 3.62A1 1 0 0 0 16.59 2.22A1 1 0 0 0 16 2H2A1 1 0 0 0 1.38 2.22A1 1 0 0 0 1.21 3.62L7 11V16.87A1 1 0 0 0 7.29 17.7L9.29 19.7A1 1 0 0 0 10.7 19.7A1 1 0 0 0 11 18.87V11M13 16L18 21L23 16Z"})))},Tt=function(e){return M.createElement(C,Object.assign({viewBox:"0 0 24 24"},e),M.createElement("svg",{viewBox:"0 0 24 24"},M.createElement("path",{d:"M11 11L16.76 3.62C16.9224 3.41153 16.9957 3.14726 16.9638 2.88493C16.932 2.6226 16.7976 2.38355 16.59 2.22C16.4221 2.08505 16.2152 2.00789 16 2H1.99999C1.77443 2.00131 1.55593 2.07884 1.37999 2.22C1.17243 2.38355 1.03804 2.6226 1.00618 2.88493C0.974328 3.14726 1.0476 3.41153 1.20999 3.62L6.99999 11V16.87C6.9819 17.0213 6.99862 17.1747 7.04888 17.3186C7.09914 17.4624 7.18161 17.5929 7.28999 17.7L9.28999 19.7C9.47736 19.8863 9.73081 19.9908 9.99499 19.9908C10.2592 19.9908 10.5126 19.8863 10.7 19.7C10.8102 19.5938 10.8945 19.4638 10.9465 19.3199C10.9985 19.176 11.0168 19.0221 11 18.87V11ZM13 21L18 16L23 21H13Z",fill:"currentColor"})))},Dt=function(e){return M.createElement(C,Object.assign({viewBox:"0 0 24 24"},e),M.createElement("svg",{viewBox:"0 0 24 24"},M.createElement("path",{fill:"currentColor",d:"M15,19.88C15.04,20.18 14.94,20.5 14.71,20.71C14.32,21.1 13.69,21.1 13.3,20.71L9.29,16.7C9.06,16.47 8.96,16.16 9,15.87V10.75L4.21,4.62C3.87,4.19 3.95,3.56 4.38,3.22C4.57,3.08 4.78,3 5,3V3H19V3C19.22,3 19.43,3.08 19.62,3.22C20.05,3.56 20.13,4.19 19.79,4.62L15,10.75V19.88M7.04,5L11,10.06V15.58L13,17.58V10.05L16.96,5H7.04Z"})))},zt=ae(function(e){return{iconWrapper:{display:"inline-flex",maxHeight:"1em",justifyContent:"center",maxWidth:18,width:18,minWidth:18,alignItems:"center"},clearIcon:{background:e.palette.primary.main,color:e.palette.primary.contrastText,width:19,height:19,borderRadius:"3px",position:"absolute",left:0}}});function Nt(t){var n=t.canSort,l=t.isExtended,r=t.filterSet,o=t.isSortedDesc,a=t.isHoveredCell,i=t.hasClear,u=t.clearFilters,c=zt(),s=B(function(e){return u&&u(e)},[u]);return n||l?M.createElement(e,{className:c.iconWrapper},!0===o?l&&r?M.createElement(At,{fontSize:"small",color:"primary"}):M.createElement(ee,{color:"primary"}):!1===o?l&&r?M.createElement(Tt,{fontSize:"small",color:"primary"}):M.createElement(te,{color:"primary"}):l&&!r?M.createElement(Dt,{fontSize:"small",color:"disabled"}):l&&r?M.createElement(M.Fragment,null,M.createElement(jt,{fontSize:"small",color:"primary"}),i&&a&&M.createElement(ne,{className:c.clearIcon,onClick:s})):M.createElement(le,{fontSize:"small",color:"disabled"})):null}var Mt=ae(function(e){return{wrapper:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:e.spacing(2)}}}),Wt=ae(function(e){return{wrapper:{transition:""+e.transitions.create(["max-width"],{duration:e.transitions.duration.complex})},iconSpacer:{marginRight:10},menuPaper:{padding:"10px 0",marginTop:4},menuItem:{paddingTop:14,paddingBottom:0,paddingRight:0,minWidth:150},overlay:{zIndex:1},itemDivider:{borderBottom:"rgba(0, 0, 0, 0.1) solid 1px",marginLeft:20,paddingRight:20,width:"100%",paddingBottom:14},noBorder:{borderBottom:0}}});function Bt(t){var n,l=t.selectedRowIds,r=t.selectedRows,o=t.actions,a=t.methods,i=t.translations,u=Wt(),c=G(function(){return r.length>0},[r]),s=G(function(){return c?"100%":0},[c]),d=q(!1),f=d[0],v=d[1],g=W(null);V(function(){c||v(!1)},[c]);var p=B(function(){v(function(e){return!e})},[v]),h=function(e){var t;null==(t=g.current)||t.contains(e.target)},b=function(e){"Tab"===e.key&&(e.preventDefault(),v(!1))},y=B(function(e){at({selectedRowIds:l,selectedRows:r,slug:e,methods:a})},[l,r,a]),E=o.map(function(t,n){var l;return M.createElement(w,{classes:{root:u.menuItem},onClick:function(e){h(e),y(t.slug)},key:t.slug},M.createElement(e,{className:lt(u.itemDivider,(l={},l[u.noBorder]=o.length===n+1,l))},t.label))});return M.createElement(e,{maxWidth:s,overflow:"hidden",className:u.wrapper},M.createElement(e,{width:"fit-content"},M.createElement(m,{ref:g,"aria-controls":f?"bulk-actions-list-grow":void 0,"aria-haspopup":"true",onClick:p,color:"primary",variant:"contained"},M.createElement(f?re:oe,{className:u.iconSpacer}),null!=(n=null==i?void 0:i.total)?n:"Actions"),M.createElement(x,{open:f,anchorEl:g.current,role:void 0,transition:!0,disablePortal:!0,className:u.overlay},function(e){return M.createElement(k,Object.assign({},e.TransitionProps,{style:{transformOrigin:"bottom"===e.placement?"left top":"left bottom"}}),M.createElement(S,{classes:{root:u.menuPaper}},M.createElement(F,{onClickAway:h},M.createElement(I,{autoFocusItem:f,id:"bulk-actions-list-grow",onKeyDown:b,disablePadding:!0},E))))})))}function Vt(e){var t,n=e.onGlobalFilter,l=e.translations,r=e.globalFilters,o=q(null==r?void 0:r.search),a=o[0],i=o[1],u=be(200),c=B(function(e){i(e.target.value);var t={key:"search",value:e.target.value};u(function(){return n(t)})},[n,u]);return M.createElement(O,{onChange:c,label:null!=(t=null==l?void 0:l.search)?t:"Search",InputProps:{endAdornment:M.createElement(K,null)},value:a,variant:"outlined"})}function Ht(e){return M.createElement(C,Object.assign({viewBox:"0 0 8 6",width:"8",height:"6"},e),M.createElement("svg",{width:"8",height:"6",viewBox:"0 0 8 6",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},M.createElement("path",{d:"M4.71074 5.28189C4.3194 5.67729 3.6806 5.67729 3.28926 5.28189L0.489829 2.45345C-0.135134 1.82201 0.31215 0.75 1.20057 0.75L6.79943 0.75C7.68785 0.75 8.13513 1.82201 7.51017 2.45345L4.71074 5.28189Z",fill:"black"})))}function Gt(e){return M.createElement(C,Object.assign({width:"24",height:"24",viewBox:"0 0 24 24"},e),M.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},M.createElement("path",{d:"M10.5 16.5L15.5 11.5L10.5 6.5",stroke:"black",strokeWidth:"2",strokeLinecap:"round"})))}var Yt=function e(t,n){if(t)return Object.entries(t).reduce(function(t,l){var r,o=l[0],a=l[1];if(Array.isArray(a)&&(t[o]=a,void 0!==(null==(r=n[o])?void 0:r.id))){var i=a.filter(function(e){var t;return e.id===(null==(t=n[o])?void 0:t.id)});if(i.length>0)return pe({},t,e(i[0],n))}return t},{})};function qt(n){var r,o,a=n.selectedKey,i=n.items,u=n.onMouseEnter,c=n.selectedId,s=n.translations,d=n.onClick,m=G(function(){return i.map(function(e){var n,l;return M.createElement(R,{button:!0,key:e.id,onMouseEnter:function(){var t,n;return u(a,e.id,null!=(t=null==s||null==(n=s.breadcrumbs)?void 0:n[e.name])?t:e.name)},onClick:function(){return d(a)},selected:c===e.id},M.createElement(t,{color:"textSecondary",variant:"body2"},null!=(n=null==s||null==(l=s.breadcrumbs)?void 0:l[e.name])?n:e.name))})},[i,d,u,c,a,s]);return M.createElement(P,{component:e,minWidth:"200px",item:!0},M.createElement(e,{paddingX:2,paddingY:1},M.createElement(t,{color:"textPrimary",variant:"subtitle2"},null!=(r=null==s||null==(o=s.breadcrumbs)?void 0:o[a])?r:a)),M.createElement(l,null),M.createElement(L,null,m))}var Xt=ae(function(){return{dropdownIconRoot:{width:13,height:8,marginLeft:7,cursor:"pointer"},seperator:{margin:"0 10px"},pointer:{cursor:"pointer"}}});function Jt(t){var l,r=t.data,o=t.translations,a=t.onGlobalFilter,i=t.globalFilters,u=Xt(),c=q({}),s=c[0],d=c[1],m=q({}),f=m[0],v=m[1],g=q(null!=(l=null==i?void 0:i.breadcrumb)?l:{}),p=g[0],b=g[1],y=W(null),E=q(null),C=E[0],w=E[1],x=G(function(){return!!C},[C]),k=G(function(){return x?"breadcrumb-popover":void 0},[x]),S=B(function(e){v(pe({},Yt(e,s)))},[s]),F=B(function(e,t,n){var l=Object.keys(f),r=Object.entries(f),o=Object.keys(s),a=l.indexOf(e);if(0!==a){for(var i,u,c={},m=(null==(i=p[e])?void 0:i.id)===t?[e]:[],v={},g=0;g<a;g++){var h,b,y,E=r[g],C=E[0],w=E[1];m=(null==(h=p[C])?void 0:h.id)===s[C].id?[].concat(m,[C]):[],-1!==o.indexOf(C)&&(v=pe({},v,((b={})[C]={id:s[C].id,name:s[C].name},b))),-1===o.indexOf(C)&&(c=pe({},c,((y={})[C]={id:w[0].id,name:w[0].name},y)))}(null==(u=m)?void 0:u.length)-1===a&&(v=p),d(function(){var l;return pe({},v,c,((l={})[e]={id:t,name:n},l))})}else d(function(){var l,r;return(null==(l=p[e])?void 0:l.id)===t?p:((r={})[e]={id:t,name:n},r)})},[f,s,p]),I=B(function(e,t){var n=Object.entries(s),l=Object.keys(s).indexOf(e)+1;if(t)w(y.current),d(p);else{var r=n.slice(0,l),o=Object.fromEntries(r);a({key:"breadcrumb",value:o}),b(o),d(o),w(null)}},[p,a,s]),O=B(function(){w(null),d(p)},[p]);V(function(){return S(r)},[s,r]),V(function(){var e;(null==(e=Object.keys(s))?void 0:e.length)<1&&d(p)},[p,s]),V(function(){var e;return b(null!=(e=null==i?void 0:i.breadcrumb)?e:{})},[null==i?void 0:i.breadcrumb]);var R=G(function(){for(var e=[],t=0,n=Object.entries(f);t<n.length;t++){var l,r=n[t],a=r[0];e.push(M.createElement(qt,{key:a,selectedKey:a,items:r[1],onMouseEnter:F,onClick:I,selectedId:null==(l=s[a])?void 0:l.id,translations:null!=o?o:{}}))}return e},[I,F,f,s,o]),L=G(function(){for(var e,t=Object.entries(p),l=t[t.length-1],r=[M.createElement(n,{color:"textPrimary",variant:"h6",onClick:function(){return I("",0===t.length)},key:"initial-table-breadcrumb",classes:{root:u.pointer}},null!=(e=null==o?void 0:o.all)?e:"All")],a=function(){var e=c[i],t=e[0],o=e[1];r.push(M.createElement(n,{color:"textPrimary",variant:"h6",key:o.id,onClick:function(){return I(t,t===l[0])},"aria-describedby":k,classes:{root:u.pointer}},o.name))},i=0,c=t;i<c.length;i++)a();return r},[p,u.pointer,I,k,null==o?void 0:o.all]);return M.createElement(e,{display:"flex",flexDirection:"column"},M.createElement(e,{display:"flex",alignItems:"center"},M.createElement(j,{separator:M.createElement(Gt,null),classes:{separator:u.seperator},ref:y},L),M.createElement(Ht,{classes:{root:u.dropdownIconRoot},onClick:function(){return I("",!0)}})),M.createElement(h,{id:k,open:x,anchorEl:C,onClose:O,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},PaperProps:{style:{height:"400px"}}},M.createElement(e,{padding:1,height:"100%"},M.createElement(P,{container:!0,height:"100%"},R))))}function Qt(t){var n=t.selectedRowIds,l=t.selectedRows,r=t.actions,o=t.methods,a=t.translations,i=t.onGlobalFilter,u=t.globalFilters,c=t.breadcrumbFilterData,s=Mt();return M.createElement(e,{className:s.wrapper},!!r&&M.createElement(Bt,{selectedRowIds:n,selectedRows:l,actions:r,methods:o,translations:a}),!!c&&M.createElement(Jt,{onGlobalFilter:i,translations:a,globalFilters:u,data:c}),M.createElement(Vt,{onGlobalFilter:i,translations:a,globalFilters:u}))}var Kt={paginator:Lt,headFilter:Rt,headIndicator:Nt,globalActions:Qt},Zt=ae(function(e){return{footer:{transition:e.transitions.create(["background","box-shadow"]),background:"rgba(0,0,0,0)",boxShadow:"none"},raised:{background:e.palette.background.paper,boxShadow:e.shadows[15]}}}),_t=["children","bodyRef"],Ut="undefined"==typeof window?null:window;function $t(e){var t=e.children,n=e.bodyRef,l=he(e,_t),r=Zt(),o=W(null);return J(function(){var e=null,t=!1,l=0,a=function a(){var i,u,c,s,d=-((null!=(i=null==n||null==(u=n.current)?void 0:u.getBoundingClientRect().bottom)?i:0)-window.innerHeight+(null!=(c=null==o||null==(s=o.current)?void 0:s.offsetHeight)?c:0));o.current&&(o.current.style.transform=d>=0?"":"translateY("+d+"px)",d<0&&l>=0?o.current.classList.add(r.raised):d>=0&&l<0&&o.current.classList.remove(r.raised)),l=d,e=setTimeout(function(){e=null,t&&(t=!1,a())},1e3/120)},i=function(){null===e?a():t=!0};return null==Ut||Ut.addEventListener("scroll",i),null==Ut||Ut.addEventListener("resize",i),i(),function(){null==Ut||Ut.removeEventListener("scroll",i),null==Ut||Ut.removeEventListener("resize",i)}},[n,r.raised,t]),M.createElement(A,Object.assign({},l,{className:r.footer,ref:o}),t)}var en=ae({totalsSelectCell:{paddingRight:0,"&:not(:last-child)":{borderRight:"none !important",boxShadow:"none !important"}}});function tn(e){var t=e.footerGroups,n=e.hasSelection,l=e.stickyTotals,r=e.classes,o=e.bodyRef,a=en(),i=B(function(e){var t,n=null==(t=e.mpColumn)?void 0:t.width;return n?{minWidth:n,width:n,maxWidth:n}:void 0},[]),u=t.map(function(e){return M.createElement(y,Object.assign({},e.getFooterGroupProps()),n&&M.createElement(b,{className:lt(a.totalsSelectCell,null==r?void 0:r.totalsSelectCell)}),e.headers.map(function(e){return M.createElement(b,Object.assign({style:i(e)},e.getFooterProps()),null!=e.Footer&&e.render("Footer"))}))});return l?M.createElement($t,{bodyRef:o},u):M.createElement(A,null,u)}var nn=ae({selectCell:{maxWidth:42,paddingRight:0,"&:not(:last-child)":{borderRight:"none"},"tr:last-child &":{overflow:"hidden"}},cellCheckbox:{margin:-12}});function ln(t){var n=t.row,l=t.selection,r=t.toggleAllRowsSelected,o=t.classes,a=n.getToggleRowSelectedProps(),u=nn(),c=B(function(e){"single"===l&&r(!1),n.toggleRowSelected(e.target.checked)},[n,l,r]),s=B(function(e){return e.stopPropagation()},[]);return M.createElement(b,{className:lt(u.selectCell,null==o?void 0:o.selectCell),onClick:s},M.createElement(e,{display:"flex"},M.createElement(i,Object.assign({color:"primary"},a,{className:lt(u.cellCheckbox,null==o?void 0:o.selectCellCheckbox),onChange:c}))))}var rn=ae(function(e){return{renderedCell:{paddingTop:2,paddingBottom:2},highlightedPrimary:{background:"dark"===e.palette.mode?ve(e.palette.primary.main,.7):ge(e.palette.primary.main,.9)},highlightedSecondary:{background:"dark"===e.palette.mode?ve(e.palette.secondary.main,.7):ge(e.palette.secondary.main,.9)},highlightedInactive:{background:e.palette.background.default,color:e.palette.text.secondary},cell:{color:"inherit"},pointer:{cursor:"pointer"}}});function on(e){var t,n,l,r,o,a,i=e.row,u=e.selection,c=e.classes,s=e.toggleAllRowsSelected,d=e.onRowClick,m=function(e,t){var n=e.original;return G(function(){return{inactive:!(null==t||!t.inactive||null==n||!n[null==t?void 0:t.inactive]),primary:!(null==t||!t.primary||null==n||!n[null==t?void 0:t.primary]),secondary:!(null==t||!t.secondary||null==n||!n[null==t?void 0:t.secondary])}},[n,t])}(i,e.highlights),f=m.inactive,v=m.primary,g=m.secondary,p=rn(),h=B(function(){null==d||d(i)},[d,i]),E=B(function(e){var t,n=null==(t=e.column.mpColumn)?void 0:t.width;return n?{minWidth:n,width:n,maxWidth:n}:void 0},[]);return M.createElement(y,Object.assign({},i.getRowProps(),{className:lt((a={},a[null!=(t=null==c?void 0:c.row)?t:""]=null!=(null==c?void 0:c.row),a[null!=(n=null==c?void 0:c.highlightedInactive)?n:p.highlightedInactive]=f,a[null!=(l=null==c?void 0:c.highlightedPrimary)?l:p.highlightedPrimary]=v,a[null!=(r=null==c?void 0:c.highlightedSecondary)?r:p.highlightedSecondary]=g,a[p.pointer]=d,a[null!=(o=null==c?void 0:c.rowSelected)?o:""]=null!=(null==c?void 0:c.rowSelected)&&i.isSelected,a)),onClick:h}),null!=u&&M.createElement(ln,{classes:c,row:i,selection:u,toggleAllRowsSelected:s}),i.cells.map(function(e){var t;return M.createElement(b,Object.assign({},e.getCellProps(),{className:lt(p.cell,(t={},t[p.renderedCell]=null!=e.column.mpColumn.render,t)),style:E(e)}),e.render("Cell"))}))}var an=function(e,t){void 0===t&&(t=localStorage);try{var n=t.getItem(e);return null!=n&&""!==n?JSON.parse(null!=n?n:""):null}catch(e){return console.warn(e),null}},un=function(e,t){return void 0===t&&(t=localStorage),[G(function(){var n=an(e,t);try{return JSON.parse(n)}catch(e){return n}},[e,t]),B(function(n){t.setItem(e,JSON.stringify(n))},[e,t])]},cn=function(e,t){var n=un(e),l=n[0],r=n[1],o=q(null!=l?l:t),a=o[0];return V(function(){r(a)},[r,a]),o},sn=[];function dn(t){var n,l=t.columns,r=t.data,o=void 0===r?sn:r,a=t.loading,i=t.size,u=t.onGetData,c=t.dataCount,s=t.storageIdentifier,d=t.cacheFilters,m=t.cacheSorting,f=t.cacheGlobalFilter,v=t.filterVariant,g=void 0===v?"head":v,p=t.localPagination,h=void 0!==p&&p,b=t.localSorting,E=void 0!==b&&b,C=t.localFiltering,w=void 0!==C&&C,x=t.translations,k=t.pageSize,S=void 0===k?10:k,F=t.overridables,I=t.rowIdKey,O=t.selection,R=t.totals,P=t.stickyTotals,L=t.totalsData,j=t.bulkActions,A=t.bulkMethods,N=t.rowMethods,H=t.highlights,Y=t.clearColumnFilters,q=void 0!==Y&&Y,X=t.classes,J=t.asyncGetMethods,Q=t.locale,K=t.disablePagination,Z=t.disableSorting,_=t.onRowClick,U=t.enableGlobalActions,$=t.breadcrumbFilterData,ee=t.onEdit,te=t.onRowsSelected,ne=t.emptyChildren,le=t.loadingComponent,re=t.clearFiltersEvent,oe=t.resetSelectedRows,ae=void 0===oe||oe,ie=G(function(){return l.map(bt(F,Z))},[l,F,Z]),fe=function(e){return G(function(){return e.filter(function(e){var t;return"string"!=typeof e.filter&&(null==(t=e.filter)?void 0:t.remote)})},[e])}(l),ve=kt(),ge=W(null),he=G(function(){return c&&!K?Math.ceil((null!=c?c:0)/S):void 0},[c,S,K]),be=un(s+"-filters"),ye=be[0],Ce=be[1],we=un(s+"-sorting"),xe=we[0],Se=we[1],Fe=un(s+"-globalFilter"),Ie=Fe[1],Oe=ke(f?Fe[0]:void 0),Re=Oe[0],Pe=Oe[1].setGlobalFilters,Le=G(function(){return{pageIndex:0,filters:d&&null!=ye?ye:[],sortBy:m&&null!=xe?xe:[],pageSize:K?void 0:S}},[ye,d,xe,m,S,K]),je=function(e){return G(function(){return pe({},Kt,null!=e?e:{})},[e])}(F),Ae=yt(o,l,Q),Te=Ae[0],De=Ae[1],ze=B(function(e){return null==e?void 0:e[I]},[I]),Ne=G(function(){return{columns:ie,data:Te,initialState:Le,manualPagination:!h,manualSortBy:!E,manualFilters:!w,autoResetFilters:!(w&&null!=fe&&fe.length),getRowId:ze,autoResetPage:!1,pageCount:he,autoResetSelectedRows:ae}},[ie,Te,Le,h,E,w,null==fe?void 0:fe.length,ze,he]),Me=ue(Ne,ce,se,de,me),We=Me.getTableProps,Be=Me.getTableBodyProps,Ve=Me.headerGroups,He=Me.footerGroups,Ge=Me.page,Ye=Me.prepareRow,qe=Me.nextPage,Xe=Me.previousPage,Je=Me.gotoPage,Qe=Me.getToggleAllRowsSelectedProps,Ke=Me.toggleAllRowsSelected,Ze=Me.selectedFlatRows,_e=Me.setAllFilters,Ue=Me.setFilter,$e=Me.state,et=function(e){var t=e.state,n=e.visibleColumns,l=e.localFiltering,r=e.localSorting,o=e.rowIdKey,a=e.localPagination,i=e.globalFilters,u=e.remoteFiltersColumns,c=G(function(){return r?void 0:t.sortBy},[r,t]),s=G(function(){return a?void 0:t.pageSize},[t,a]),d=G(function(){return a?void 0:t.pageIndex},[t,a]),m=W(),f=G(function(){if(!l||null!=u&&u.length){if(l||null!=u&&u.length){var e,n,r=null==(e=t.filters)||null==(n=e.filter(function(e){return!(null==u||!u.find(function(t){return t.key===e.id}))}))?void 0:n.reduce(function(e,t){return e[t.id]=t.value,e},{});return o=m.current,a=r,[].concat(Object.keys(null!=o?o:{}),Object.keys(null!=a?a:{})).find(function(e){return(null==o?void 0:o[e])!==(null==a?void 0:a[e])})?(m.current=r,r):m.current}return t.filters}var o,a},[l,u,t]),v=G(function(){return n.map(function(e){return e.id})},[n]),g=G(function(){return i},[i]);return G(function(){var e={columns:[o].concat(v)};return null!=s&&null!=d&&(e.cursor=d*s),null!=s&&(e.limit=s),null!=c&&(e.sort=c.map(function(e){return{key:e.id,desc:e.desc}})),null!=f&&(e.filters=f),null!=g&&(e.globalFilters=g),e},[s,d,v,c,f,o,g])}({state:$e,visibleColumns:Me.visibleColumns,localFiltering:w,localPagination:h,localSorting:E,rowIdKey:I,globalFilters:Re,remoteFiltersColumns:fe});V(function(){u(et)},[u,et]),V(function(){d&&Ce($e.filters)},[d,$e.filters,Ce]),V(function(){m&&Se($e.sortBy)},[m,$e.sortBy,Se]),V(function(){f&&Ie(Re)},[f,Ie,Re]),V(function(){null==ee||ee(Te)},[Te,ee]),V(function(){"function"==typeof te&&te(Ze)},[Ze,te]),V(function(){null!=re&&(null!=re&&re.length||_e([]),null!=re&&re.length&&re.forEach(function(e){return Ue(e,[])}))},[re,_e,Ue]);var tt=G(function(){return{opacity:a?.5:void 0}},[a]),nt=G(function(){return ie.length+(O?1:0)},[ie,O]),rt=G(function(){return{totalsData:L,size:i,rowMethods:N,translations:x,locale:Q,asyncGetMethods:J,localPagination:h,localSorting:E,localFiltering:w,onInputChange:De}},[L,i,N,x,Q,J,h,E,w,De]);return M.createElement(Ee.Provider,{value:rt},M.createElement(e,{className:ve.parent},U&&M.createElement(je.globalActions,{selectedRows:Ze,selectedRowIds:$e.selectedRowIds,actions:j,methods:A,translations:x,onGlobalFilter:Pe,globalFilters:Re,breadcrumbFilterData:$}),M.createElement(e,{className:lt(ve.wrapper,null==X?void 0:X.tableWrapper,(n={},n[ve.stickyTotalsWrapper]=P,n))},M.createElement(T,Object.assign({size:i},We(),{className:lt(ve.table,null==X?void 0:X.table)}),M.createElement(D,null,Ve.map(function(e){return M.createElement(y,Object.assign({},e.getHeaderGroupProps()),null!=O&&M.createElement(Ot,Object.assign({classes:X,selection:O},Qe())),e.headers.map(function(e){return M.createElement(xt,Object.assign({},e.getHeaderProps(),{overridables:je,variant:"head"===g?"extended":"simple",column:e,clearFiltersEvent:re,clearColumnFilters:q,classes:X}))}))})),M.createElement(z,Object.assign({},Be(),{style:tt,ref:ge}),Ge.length<1&&M.createElement(St,{cellCount:nt,loading:a,emptyChildren:ne,loadingComponent:le}),Ge.map(function(e){return Ye(e),M.createElement(on,{key:e.getRowProps().key,row:e,highlights:H,classes:X,selection:O,toggleAllRowsSelected:Ke,onRowClick:_})})),!!R&&!!L&&M.createElement(tn,{footerGroups:He,hasSelection:null!=O,classes:X,bodyRef:ge,stickyTotals:P}))),!K&&M.createElement(je.paginator,{pageSize:$e.pageSize,itemCount:c,pageCount:he,pageIndex:$e.pageIndex,previousPage:Xe,nextPage:qe,gotoPage:Je,loading:a,translations:x,selectedCount:Ze.length})))}var mn=function(e){return{q1:[{key:"month",label:"January",value:"Jan, "+e},{key:"month",label:"February",value:"Feb, "+e},{key:"month",label:"March",value:"Mar, "+e}],q2:[{key:"month",label:"April",value:"Apr, "+e},{key:"month",label:"May",value:"May, "+e},{key:"month",label:"June",value:"Jun, "+e}],q3:[{key:"month",label:"July",value:"Jul, "+e},{key:"month",label:"August",value:"Aug, "+e},{key:"month",label:"September",value:"Sep, "+e}],q4:[{key:"month",label:"October",value:"Oct, "+e},{key:"month",label:"November",value:"Nov, "+e},{key:"month",label:"December",value:"Dec, "+e}]}},fn=function(e,t){return[{key:"quarter",label:"Q1",value:"Q1, "+e,items:t.q1},{key:"quarter",label:"Q2",value:"Q2, "+e,items:t.q2},{key:"quarter",label:"Q3",value:"Q3, "+e,items:t.q3},{key:"quarter",label:"Q4",value:"Q4, "+e,items:t.q4}]},vn=ae({endItem:{paddingTop:14,paddingBottom:12,paddingLeft:0,paddingRight:0,minWidth:130},paper:{maxWidth:340,maxHeight:580,overflowY:"auto",position:"relative",paddingTop:50,"-ms-overflow-style":"none",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},toggle:{height:44,maxWidth:195,display:"flex",alignItems:"center",cursor:"pointer",paddingLeft:14,paddingRight:38,position:"relative",color:"#69717D"},selected:{color:"black"},arrow:{position:"absolute",right:14,top:"50%",transform:"translateY(-50%)"},noPadding:{padding:0,alignItems:"center"},typography:{padding:"0 35px",width:"100%"},fullWidth:{width:"100%",position:"relative",paddingLeft:40},listItem:{background:"white",flexDirection:"row-reverse","&:hover":{background:"white","& > .MuiTypography-root":{fontWeight:"bold"}},border:"1px solid rgba(0, 0, 0, 0.1)",borderTop:0,borderLeft:0,"&:last-child":{borderBottom:0}},iconContainer:{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",left:20,top:"50%",transform:"translateY(-50%)","& .MuiSvgIcon-root":{width:12,height:9}},active:{fontWeight:"bold"},header:{display:"flex",alignItems:"center",justifyContent:"space-between",height:50,paddingLeft:40,paddingRight:25,borderBottom:"1px solid rgba(0, 0, 0, 0.1)",position:"fixed",top:0,width:"100%",zIndex:1,background:"white"},headerAction:{color:"#69717D",cursor:"pointer","&:hover":{color:"black",fontWeight:"bold"}}});function gn(e){return M.createElement(C,Object.assign({fontSize:"small",width:"12",height:"9",viewBox:"0 0 12 9",fill:"none"},e,{style:{fill:"none",width:12,height:9,overflow:"visible"}}),M.createElement("path",{d:"M1 4L4.5 7.5L11 1",stroke:"#4DA621",strokeWidth:"2"}))}function pn(e){var n=e.data,l=e.onClick,r=e.date,o=vn();return M.createElement(L,{disablePadding:!0},n.map(function(e){var n,a,i=r===e.value;return M.createElement(R,{classes:{root:lt((n={},n[o.listItem]=!0,n[o.noPadding]=!(null==e||!e.items),n[o.endItem]=!(null!=e&&e.items),n))},onClick:function(t){t.stopPropagation(),l(e.value,e.key)},button:!0,key:e.value,disableRipple:!0},M.createElement(t,{className:lt((a={},a[o.typography]=null==e?void 0:e.items,a[o.fullWidth]=!0,a[o.active]=i,a)),variant:"body2"},i&&M.createElement(gn,{className:o.iconContainer}),e.label),(null==e?void 0:e.items)&&M.createElement(pn,{data:e.items,onClick:l,date:r}))}))}function hn(n){var l,r,o,a=n.date,i=n.onSelectAll,u=n.translations,c=n.FromToFilter,s=n.filterProps,d=vn(),m=q(!1),f=m[0],v=m[1],g=B(function(){return v(!0)},[]);return f&&c?M.createElement(c,Object.assign({},s)):M.createElement(e,{className:d.header},!a&&M.createElement(gn,{className:d.iconContainer}),M.createElement(t,{onClick:i,classes:{root:d.headerAction},variant:"body2"},null!=(l=null==u?void 0:u.allTime)?l:"All time"),!!c&&M.createElement(t,{onClick:function(e){e.stopPropagation(),g()},classes:{root:d.headerAction},variant:"body2"},(null!=(r=null==u?void 0:u.from)?r:"From")+" - "+(null!=(o=null==u?void 0:u.to)?o:"To")))}function bn(e){return M.createElement(C,Object.assign({fontSize:"small",width:"10",height:"5",viewBox:"0 0 10 5"},e,{style:{fill:"none",width:10,height:5,overflow:"visible"}}),M.createElement("path",{d:"M1.5 1.5L6.5 6.5L11.5 1.5",stroke:"#69717D",strokeWidth:"1.5",strokeLinecap:"round"}))}function yn(e){return M.createElement(C,Object.assign({fontSize:"small",fill:"none",width:"10",height:"5",viewBox:"0 0 10 5"},e,{style:{fill:"none",width:10,height:5,overflow:"visible"}}),M.createElement("path",{d:"M11.5 6.5L6.5 1.5L1.5 6.5",stroke:"black",strokeWidth:"1.5",strokeLinecap:"round"}))}function En(e){var t=e.anchorEl,n=vn(),l=G(function(){return null===t?bn:yn},[t]);return M.createElement(l,{className:n.arrow})}function Cn(t){var n,l,r=t.items,o=t.placement,a=t.translations,i=t.FromToFilter,u=t.onGetData,c=vn(),s=function(){var e=cn("datepicker",null),t=e[0],n=e[1],l=cn("datepickerISO",null),r=l[0],o=l[1],a=cn("datepickerDateFrom",null),i=a[0],u=a[1],c=cn("datepickerDateTo",null),s=c[0],d=c[1],m=B(function(e){var t=Number(e.charAt(1)),n=e.substr(3),l=ie(n).quarter(t);return{dateFrom:l.startOf("quarter").toISOString(),dateTo:l.endOf("quarter").toISOString()}},[]),f=B(function(e){var t=ie(e);return{dateFrom:t.startOf("year").toISOString(),dateTo:t.endOf("year").toISOString()}},[]),v=B(function(e){var t=ie(e);return{dateFrom:t.startOf("month").toISOString(),dateTo:t.endOf("month").toISOString()}},[]),g=B(function(e){return!!e&&ie(e).format("YYYY MMM")},[]),p=B(function(e,t,l){if("dateFrom"===t){var r,a=g(e)+" - "+(null!=(r=g(s))?r:"");l({dateFrom:null!=i?i:"",dateTo:null!=s?s:""}),n(a)}else if("dateTo"===t){var c;l({dateFrom:null!=i?i:"",dateTo:null!=s?s:""});var p=null!=(c=g(i))?c:"",h=g(e);n(p+" - "+h)}else n(e);var b=null;switch(t){case"month":b=v(e);break;case"quarter":b=m(e);break;case"year":b=f(e);break;case"dateFrom":u(ie(e).toISOString());break;case"dateTo":d(ie(e).toISOString())}b&&(l(b),o(b))},[i,s,g,v,m,f,n,o,u,d]),h=B(function(){i&&s&&o({dateFrom:i,dateTo:s})},[i,s,o]);return{date:t,setDatepickerValues:p,dateFilter:r,clearSelected:B(function(e){n(null),o(null),e(null)},[n,o]),handleFilterClick:h,dateFrom:i,dateTo:s}}(),d=s.setDatepickerValues,m=s.clearSelected,f=s.date,v=s.handleFilterClick,g=s.dateFrom,p=s.dateTo,h=G(function(){for(var e=[];l>2015;){var t=l.toString(),n=mn(l),r=fn(l,n);e.push({key:"year",label:t,value:t,items:r}),l--}return e},[l=2021]),b=G(function(){return null!=r?r:h},[h,r]),y=q(null),E=y[0],C=y[1],w=G(function(){return!!E},[E]),k=G(function(){return w?"datepicker-popper":void 0},[w]),I=G(function(){return{onFilter:function(){v(),C(null)},onDateChange:d,dateFrom:g,dateTo:p,onGetData:u}},[g,p,v,u,d]),O=B(function(e){C(E?null:e.currentTarget)},[E]),R=B(function(e,t){C(null),d(e,t,u)},[u,d]),P=B(function(){m(u),C(null)},[m,u]);return M.createElement(F,{onClickAway:function(){return C(null)}},M.createElement(e,null,M.createElement(S,{className:lt((n={},n[c.toggle]=!0,n[c.selected]=!!f,n)),"aria-describedby":k,onClick:O},null!=f?f:"All time",M.createElement(En,{anchorEl:E})),M.createElement(x,{id:k,open:w,anchorEl:E,style:{zIndex:1299},placement:null!=o?o:"bottom-end",transition:!0},function(e){return M.createElement(N,Object.assign({},e.TransitionProps,{timeout:350}),M.createElement(S,{elevation:4,className:c.paper},M.createElement(hn,{translations:a,date:f,onSelectAll:P,FromToFilter:i,filterProps:I}),M.createElement(pn,{date:f,data:b,onClick:R})))})))}export{Ht as BreadcrumbFilterDown,Gt as BreadcrumbSeparator,ut as Button,jt as Filter,At as FilterArrowDown,Tt as FilterArrowUp,Dt as FilterOutline,Ee as MetaContext,We as MpColumnFormat,Be as MpColumnRender,Cn as MpDatepicker,Re as MpFilterType,dn as MpTable,Jt as MpTableBreadcrumb,Bt as MpTableBulkActions,tt as MpTableFilter,Qt as MpTableGlobalActions,Vt as MpTableGlobalFilter,Rt as MpTableHeadFilter,Nt as MpTableHeadIndicator,Lt as MpTablePaginator,dn as MpTableRow,Me as NumberRange,Te as SearchSelect,Oe as Select,mt as StatusPill,st as Switch,Le as Text,ct as Toggle,bt as convertMpToColumn,Ge as formatDate,Ye as formatDatetime,rt as getColumnAction,pt as getFooterValue,an as getFromStorage,Yt as getNestedElementsMapReduce,Qe as getRawValue,at as handleBulkAction,ot as handleRowAction,Xe as mapFormatter,He as toCurrency,Ve as toPercent,Se as useClearFilters,yt as useDataFormatters,be as useDebounce,xe as useFilterItems,Ce as useFilterOptions,ke as useGlobalFilters,dt as useRendererOptions,un as useStorage,cn as useStoredState,ye as useUnmounted};
//# sourceMappingURL=table.esm.js.map
